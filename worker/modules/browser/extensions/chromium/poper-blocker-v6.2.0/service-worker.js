/*! For license information please see service-worker.js.LICENSE.txt */
!function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=73)}([function(e,t,r){"use strict";r.d(t,"h",(function(){return n})),r.d(t,"p",(function(){return i})),r.d(t,"v",(function(){return s})),r.d(t,"m",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"i",(function(){return c})),r.d(t,"H",(function(){return l})),r.d(t,"t",(function(){return u})),r.d(t,"G",(function(){return E})),r.d(t,"D",(function(){return O})),r.d(t,"f",(function(){return d})),r.d(t,"M",(function(){return T})),r.d(t,"y",(function(){return f})),r.d(t,"K",(function(){return I})),r.d(t,"r",(function(){return p})),r.d(t,"A",(function(){return A})),r.d(t,"B",(function(){return S})),r.d(t,"z",(function(){return m})),r.d(t,"q",(function(){return C})),r.d(t,"x",(function(){return N})),r.d(t,"l",(function(){return L})),r.d(t,"L",(function(){return g})),r.d(t,"n",(function(){return R})),r.d(t,"k",(function(){return y})),r.d(t,"F",(function(){return b})),r.d(t,"E",(function(){return w})),r.d(t,"w",(function(){return P})),r.d(t,"d",(function(){return B})),r.d(t,"c",(function(){return D})),r.d(t,"u",(function(){return k})),r.d(t,"g",(function(){return U})),r.d(t,"C",(function(){return v})),r.d(t,"o",(function(){return F})),r.d(t,"j",(function(){return M})),r.d(t,"b",(function(){return K})),r.d(t,"J",(function(){return G})),r.d(t,"s",(function(){return x})),r.d(t,"a",(function(){return V})),r.d(t,"I",(function(){return j}));const n={PAUSED:"paused",SETTINGS:"settings",WHITELIST:"whitelist",NUM_OF_BLOCKS:"numOfBlocks",NUM_OF_UNBLOCKS:"numOfUnBlocks",TOTAL_BLOCKS_BY_TAB_ID:"totalBlocksByTabId",TOTAL_BLOCKS_BY_TYPE:"totalBlocksByType",TOTAL_UNBLOCKS_BY_TYPE:"totalUnBlocksByType",BLOCKED_SITES_COUNTER:"counterBlockedSites",UNBLOCKED_SITES_COUNTER:"counterUnBlockedSites",OVERLAY_BLOCKED_LIST:"overlayBlockedList",USER:"user",LAST_USER_UPDATE_DATE:"lastUserUpdateDate",BLOCKED_ELEMENTS:"blockedElements",BLOCKED_ELEMENTS_PROMO:"blockedElementsPromo",BLOCKED_ELEMENTS_COUNT:"blockedElementsCount",DEFAULT_WHITELIST:"defaultWhitelist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:"popularSitesForBlockElements",DEFAULT_WHITELIST_LAST_UPDATE:"defaultWhitelistLastUpdate",POPULAR_SITES_FOR_BLOCK_ELEMENTS_LAST_UPDATE:"popularSitesForBlockElementsLastUpdate",LAST_ALIVE_EVENT_SENT_AT:"lastAliveEventSentAt",AD_BLOCKING:"adBlocking",GENERAL_DATA:"generalData",PROMO_COUPON:"promoCoupon",WHATS_NEW:"whatsNew",DEFAULT_FACEBOOK_CONFIG:"facebookConfig",DEFAULT_SEGMENT_CONFIG:"segmentConfig",PUSH_NOTIFICATIONS_BLOCKER_PROMO:"pushNotificationBlockerPromo",RATING_STAR_CLICK:"ratingStarClick",RATING_US_MODAL:"ratingUsModal",FONT_STYLE:"fontStyle",RDID:"randid",FIRST_POPUP_BLOCK:"isFirstBlockAdds",PIN_TASKBAR_DATA:"pinTaskbarData",SPECIAL_OFFER_MODAL:"specialOfferModal"},i={CATEGORIES:{OPTIONS:"Options_menu",MAIN_MENU:"Menu",CHECKBOX:"Checkbox",CTA:"Button CTA",NAVBAR:"Navigation bar",MISSING:"Missing Ad",NOTIFICATION:"Notification",RATING:"Rating",EXTENSION:"Extension",REPORTS:"Reports",BLOCK_ELEMENT:"Block Element",COOKIE_CRUMBLER:"Cookie Crumbler",INSITE_NOTIFICATIONS:"In-site Notifications"},ACTIONS:{CLICK:"Click",VIEWED:"Viewed",BLOCKED_POPUP:"Popup blocked",DAILY_BLOCKS:"Popups blocked per day",BLOCKED_ELEMENT_SITE:"Blocked element site URL"}},s={GA_EVENT:"trackEvent",UPDATE_TAB_BADGE:"updateTabBadgeText",UPDATE_COUNTS:"updateBlockCounts",CREATE_CONTEXT_MENUS:"createIconContextMenu",SEND_ANALYTICS_EVENT:"sendAnalyticsEvent",SYNC_EXTENSION_ANALYTICS_DATA:"syncExtensionAnalyticsData",KEEN_IO:"KeenIO",ALLOW_ALWAYS:"allowAlways",RESTORE_BLOCKING:"restoreBlocking",REQUEST_TAB_URL:"requestTabUrl",REQUEST_CURRENT_TAB:"requestCurrentTab",OPEN_URL:"openUrl",UPDATE_RATING:"update-rating",GET_USER:"getUser",UPDATE_USER_INFO:"updateUserInfo",SUBSCRIPTION_SUCCESS:"subscription-success",LOGIN:"login",LOGOUT:"logout",START_BLOCKED_ELEMENTS:"start-blocked-elements",MANUAL_REMOVE_OVERLAY:"manual-remove-overlay",ADD_UNBLOCK_ALL_ELEMENTS_MENU:"add-unblock-all-elements-menu",REMOVE_UNBLOCK_ALL_ELEMENTS_MENU:"remove-unblock-all-elements-menu",UNBLOCK_ALL_ELEMENTS:"unblock-all-elements",GET_DEFAULT_WHITELIST:"get-default-whitelist",GET_POPULAR_SITES_FOR_BLOCK_ELEMENTS:"get-popular-sites-for-block-elements",INSERT_COOKIE_FILTERS:"insert-cookie-filters",ACTIVATE_CC_OR_SHOW_PROMO:"activate-cc-or-show-promo",SHOW_COOKIE_CRUMBLER_HOOK:"show-cookie-crumbler-hook",HIDE_COOKIE_CRUMBLER_PROMO:"hide-cookie-crumbler-promo",SHOW_TRIAL_PROMO:"show-trial-promo",CHECK_PROMO_MESSAGE:"check-promo-message",SHOW_COUPON_MESSAGE:"show-coupon-message",OPT_IN_AGREE:"opt-in-agree",OPT_IN_DISAGREE:"opt-in-disagree",SEND_ALIVE_EVENT:"send-alive-event",HIDE_AD_ELEMENT:"hide-ad-element",COUNT_AD_ELEMENT:"count-ad-element",UPDATE_SOCIAL_BLOCKER_CONFIG:"update-social-blocker-config",UPDATE_SEGMENT_DATA:"update-segment-data",UPDATE_BLOCK_COUNT:"update-block-count",UPDATE_UNBLOCK_COUNT:"update-unblock-count",COUNT_COOKIE_MESSAGES:"count-cookie-messages",TOGGLE_PUSH_NOTIFICATIONS_BLOCKING:"toggle-push-notification-blocking",INJECT_FONTS:"inject-font",FETCH_SETTINGS:"fetch-settings",UPDATE_REMOTE_SETTINGS:"update-remote-settings",UPDATE_REMOTE_AND_LOCAL_SETTINGS:"update-remote-and-local-settings",REQUEST_TRIAL_STATUS:"request-trial-status",EXTENSION_IS_PINNED:"extension-is-pinned",REQUEST_EXTENSION_ID:"request-extension-id",UPDATE_EXTENSION_ID:"update-extension-id",UPDATE_SCRIPT_BLOCKERS_STATE:"update-script-blockers-state",SETTINGS_CHANGED:"settings-changed",UPDATE_SETTINGS:"update-settings",EXTENSION_IS_ALLOWED_INCOGNITO:"extension-is-allowed-incognito",GET_ALL_EXTENSION_PERMISSIONS_GRANTED:"get-all-extension-permissions-granted",REQUEST_OPTIONAL_PERMISSIONS:"request-optional-permissions",ON_EXTENSION_ENABLED_STATE_UPDATED:"extension-enabled-state-updated"},o={POPUPS:"popups",OVERLAYS:"overlays",COOKIE_CRUMBLER:"cookieCrumbler",FACEBOOK:"facebookAdds",PUSH_NOTIFICATION:"pushNotification",ADS_BLOCKER:"adsBlocker"},a={COOKIE:"images/cookie-animation.json",FACEBOOK_END:"images/endTrialFacebookAnimation.json",PIN:"images/pinAnimation.json"},c={PARENT:{id:"parentContextMenu",title:"Poperblocker",contexts:["page","frame","selection","link","editable","image","video","audio"]},OVERLAY:{id:"removeOverlay",title:"Remove overlay",contexts:["page","frame","selection","link","editable","image","video","audio"]},BLOCK_ELEMENT:{id:"blockElement",title:"Hide Element",contexts:["page","frame","selection","link","editable","image","video","audio"]},UNBLOCK_ALL_ELEMENTS:{id:"unblockAllElement",title:"Unblock All Elements",contexts:["page","frame","selection","link","editable","image","video","audio"]}},l={BLOCK_ELEMENT_ROOT:"pb-block-element-root",LIMIT_NOTIFICATION_ROOT:"pb-limit-notification-root",PROMO_ROOT:"pb-feature-promo-root",COOKIE_PROMO_ROOT:"pb-cookie-promo-root",MESSAGE_NOTIFICATION_ROOT:"pb-message-notification-root"},u={CHROME_EXTENTION_MANAGER:"chrome://extensions",FF_EXTENTION_MANAGER:"about:addons",WEB_APP:"https://app.poperblocker.com",CHECKOUT_YEARLY_PLAN:"https://app.poperblocker.com/checkout?selectedPlan=Yearly",ANALYTICS_APP:"https://analytics.poperblocker.com",VALID_MESSAGE_DOMAINS:["poperblocker.com"],THANK_YOU_PAGE_CH:"https://poperblocker.com/welcome",THANK_YOU_PAGE_FF:"https://poperblocker.com/welcome-firefox",PRIVACY_POLICY_CH:"https://poperblocker.com/privacy/",PRIVACY_POLICY_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",UNINSTALL_PAGE_CH:"https://poperblocker.com/uninstall/?",UNINSTALL_PAGE_FF:"https://poperblocker.com/uninstall-firefox/?",FEEDBACK_PAGE:"https://poperblocker.com/feedback.html?from=ext",CONTACT_PAGE:"https://poperblocker.com/contact-form.html",CONTRIBUTE_PAGE:"https://poperblocker.com/contribute?utm_source=Extension_Popup",GOOGLE_FORM:"https://forms.gle/DfoB6hyd7MFtDPP8A",APPSTORE_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",APPSTORE_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",REVIEW_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche/reviews",REVIEW_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",TWITTER_SHARE:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",FACEBOOK_SHARE:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below"},E={AFTER:5,EVERY:100},_=u.WEB_APP+"/api/v1",h=""+u.ANALYTICS_APP,O="?extVersion=Premium",d={OVERLAY_CHECK:"https://api2.poperblocker.com/view/update",ANALYTICS_SEND_EVENT:h+"/event",GET_USER:_+"/user",GET_USER_SEGMENT:_+"/segment",LOGOUT:_+"/auth/logout",MANAGE_SUBSCRIPTION:_+"/subscriptions",ANALYTIC_INFO:_+"/analytics/sync",WHITELIST:_+"/whitelist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:_+"/mostPopularSitesForBlockElements",PROMO_COUPON:_+"/promoCoupon",SETTINGS:_+"/settings",REFRESH:_+"/auth/refresh",SOCIALBLOCKER_CONFIG:_+"/socialblocker/config",ADS_BLOCKER_CONFIG:_+"/adsblocker/config",TRACKERS_BLOCKER_CONFIG:_+"/trackersblocker/config"},T=288e5,f=864e5,I=5184e6,p=36e5,A=1,S=6e4,m=60*A,C=12*m,N=24*m,L=3,g=14*f,R="https://fonts.googleapis.com/css2?family=Mulish:wght@200;300;400;500;600;700;800;900&display=swa",y={poper20:"poper20",poper30:"poper30"},b=5,w=5,P=21,B={ANALYTICS_INFO_KEY:"ANALYTICS_INFO",ANALYTICS_PLATFORM:"Extension",ANALYTICS_PRODUCT:"PoperBlocker",ANALYTICS_RESOURCE_TYPES:{PAID:"PAID",ORGANIC:"ORGANIC"},ANALYTICS_EVENT_TYPES:{EXTENSION_INSTALL:"EXTENSION_INSTALL",EXTENSION_UNINSTALL:"EXTENSION_UNINSTALL",EXTENSION_UPGRADE:"EXTENSION_UPGRADE",EXTENSION_INSTALL_GENERAL:"EXTENSION_INSTALL_GENERAL",EXTENSION_OPT_IN_VIEWED:"EXTENSION_OPT_IN_VIEWED",EXTENSION_OPT_IN_CLICKED_AGREE:"EXTENSION_OPT_IN_CLICKED_AGREE",EXTENSION_OPT_OUT_CLICKED_AGREE:"EXTENSION_OPT_OUT_CLICKED_AGREE",POPUP_BLOCKED:"POPUP_BLOCKED",ALLOW_POPUPS:"ALLOW_POPUPS",DID_WE_MISS_ONE:"DID_WE_MISS_ONE",ELEMENT_BLOCKED:"ELEMENT_BLOCKED",OVERLAY_BLOCKED:"OVERLAY_BLOCKED",OVERLAY_DETECTED:"OVERLAY_DETECTED",REMOVE_OVERLAY_FOREVER:"REMOVE_OVERLAY_FOREVER",UNDO_OVERLAY_REMOVAL:"UNDO_OVERLAY_REMOVAL",ELEMENT_BLOCKED_UNDO:"ELEMENT_BLOCKED_UNDO",ELEMENT_BLOCKED_SAVE:"ELEMENT_BLOCKED_SAVE",BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW:"BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW",BLOCK_ELEMENT_FREE_BLOCKS:"BLOCK_ELEMENT_FREE_BLOCKS",BLOCK_ELEMENT_NO_BLOCKS_VIEW:"BLOCK_ELEMENT_NO_BLOCKS_VIEW",BLOCK_ELEMENT_UNBLOCK_ELEMENTS:"BLOCK_ELEMENT_UNBLOCK_ELEMENTS",WHITELIST_ADD:"WHITELIST_ADD",WHITELIST_REMOVE:"WHITELIST_REMOVE",SETTINGS_PAGE_VIEW:"SETTINGS_PAGE_VIEW",COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW:"COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW",INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW:"INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW",COOKIE_CRUMBLER_TRIAL_START:"COOKIE_CRUMBLER_TRIAL_START",COOKIE_CRUMBLER_HIDE_FOREVER:"COOKIE_CRUMBLER_HIDE_FOREVER",COOKIE_CRUMBLER_IN_TRIAL:"COOKIE_CRUMBLER_IN_TRIAL",COOKIE_CRUMBLER_END_OF_TRIAL:"COOKIE_CRUMBLER_END_OF_TRIAL",COOKIE_CRUMBLER_IN_TRIAL_CLICK:"COOKIE_CRUMBLER_IN_TRIAL_CLICK",COOKIE_CRUMBLER_USE_CASE_CLOSE:"COOKIE_CRUMBLER_USE_CASE_CLOSE",COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK",COOKIE_CRUMBLER_USE_CASE_VIEW:"COOKIE_CRUMBLER_USE_CASE_VIEW",COOKIE_CRUMBLER_USE_CASE_CLICK:"COOKIE_CRUMBLER_USE_CASE_CLICK",ALIVE:"ALIVE",SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK",SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK:"SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK",SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW:"SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW",IN_PRODUCT_PROMOTION_DIALOG_CLICK:"IN_PRODUCT_PROMOTION_DIALOG_CLICK",IN_PRODUCT_PROMOTION_DIALOG_VIEW:"IN_PRODUCT_PROMOTION_DIALOG_VIEW",IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_ON:"IN_SITE_PUSH_NOTIFICATION_ON",IN_SITE_PUSH_NOTIFICATION_OFF:"IN_SITE_PUSH_NOTIFICATION_OFF",BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK:"BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK",EXPAND_NOT_BLOCKED_DROPDOWN_CLICK:"EXPAND_NOT_BLOCKED_DROPDOWN_CLICK",RATE_US_DIALOG_VIEW:"RATE_US_DIALOG_VIEW",RATE_US_DIALOG_CLICK:"RATE_US_DIALOG_CLICK",RATE_US_DIALOG_RESULT_VIEW:"RATE_US_DIALOG_RESULT_VIEW",SEGMENTATION_PROMOTION_VIEW:"SEGMENTATION_PROMOTION_VIEW",SEGMENTATION_PROMOTION_CLICK:"SEGMENTATION_PROMOTION_CLICK",ADBLOCKER_PROMOTION_VIEW:"ADBLOCKER_PROMOTION_VIEW",ADBLOCKER_PROMOTION_CLICK:"ADBLOCKER_PROMOTION_CLICK",MONETIZATION_NOIFICATION_VIEW:"MONETIZATION_NOIFICATION_VIEW",MONETIZATION_NOIFICATION_CTA_CLICK:"MONETIZATION_NOIFICATION_CTA_CLICK",MONETIZATION_NOIFICATION_COPY_CODE_CLICK:"MONETIZATION_NOIFICATION_COPY_CODE_CLICK",SOCIAL_BLOCKER_FEED_PROMOTION_VIEW:"SOCIAL_BLOCKER_FEED_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_PROMOTION_OPEN:"SOCIAL_BLOCKER_FEED_PROMOTION_OPEN",SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW:"SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL:"SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL",FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW:"FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW",FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED:"FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED",CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL:"CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL",CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT:"CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT",CLICK_COOKIE_PROMOTION_DISCOUNT:"CLICK_COOKIE_PROMOTION_DISCOUNT",PIN_TASKBAR_POPUP_VIEW:"PIN_TASKBAR_POPUP_VIEW",PIN_TASKBAR_POPUP_DISMISS_CLICK:"PIN_TASKBAR_POPUP_DISMISS_CLICK",TRIAL_MIGRATION:"TRIAL_MIGRATION"},PAGE:{PANEL:"PANEL",PANEL_SETTINGS_TAB:"PANEL_SETTINGS_TAB"},FEATURE:{SCREEN:"SCREEN",WHATS_NEW_CARD:"WHATS_NEW_CARD",WHATS_NEW_CARD_CTA:"WHATS_NEW_CARD_CTA",SPECIAL_OFFER_CARD:"SPECIAL_OFFER_CARD",SPECIAL_OFFER_CARD_PROCTA:"SPECIAL_OFFER_CARD_PROCTA",SPECIAL_OFFER_CARD_REMIND_LATER:"SPECIAL_OFFER_CARD_REMIND_LATER",SPECIAL_OFFER_CARD_X:"SPECIAL_OFFER_CARD_X",EXTENSION_DISABLED_CARD:"EXTENSION_DISABLED_CARD",EXTENSION_DISABLED_CARD_CTA:"EXTENSION_DISABLED_CARD_CTA",HEADER_GO_PRO:"HEADER_GO_PRO",HEADER_MENU:"HEADER_MENU",DROP_MENU_SETTINGS:"DROP_MENU_SETTINGS",DROP_MENU_LOGIN:"DROP_MENU_LOGIN",DROP_MENU_LOGOUT:"DROP_MENU_LOGOUT",DROP_MENU_DISABLE:"DROP_MENU_DISABLE",DROP_MENU_ENABLE:"DROP_MENU_ENABLE",WHITELIST_SITE:"WHITELIST_SITE",HIDE_DISTRACTIONS:"HIDE_DISTRACTIONS",HIDE_DISTRACTIONS_BACK:"HIDE_DISTRACTIONS_BACK",HIDE_DISTRACTIONS_REMOVE_ELEMENT:"HIDE_DISTRACTIONS_REMOVE_ELEMENT",HIDE_DISTRACTIONS_REMOVE_OVERLAY:"HIDE_DISTRACTIONS_REMOVE_OVERLAY",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION",STATISTICS_TAB:"STATISTICS_TAB",STATISTICS_TAB_UN_BLOCKED:"STATISTICS_TAB_UN_BLOCKED",STATISTICS_TAB_BLOCKED:"STATISTICS_TAB_BLOCKED",STATISTICS_TAB_GO_PRO_CTA:"STATISTICS_TAB_GO_PRO_CTA",SETTINGS_TAB:"SETTINGS_TAB",POPUPS:"POPUPS",OVERLAYS:"OVERLAYS",COOKIE_CRUMBLER:"COOKIE_CRUMBLER",FACEBOOK:"FACEBOOK",PUSH_NOTIFICATION:"PUSH_NOTIFICATION",ADS_BLOCKER:"ADS_BLOCKER",ADVANCED_SETTINGS:"ADVANCED_SETTINGS"},EVENT_TYPE:{VIEW:"VIEW",CLICK:"CLICK",TOGGLE_ON:"TOGGLE_ON",TOGGLE_OFF:"TOGGLE_OFF",PANEL_SPECIAL_OFFER_X_CLICK:"PANEL_SPECIAL_OFFER_X_CLICK",PANEL_SPECIAL_OFFER_MAYBELATER_CLICK:"PANEL_SPECIAL_OFFER_MAYBELATER_CLICK",PANEL_SPECIAL_OFFER_GOPRO_CLICK:"PANEL_SPECIAL_OFFER_GOPRO_CLICK",PANEL_SPECIAL_OFFER_GOPRO_VIEW:"PANEL_SPECIAL_OFFER_GOPRO_VIEW",TRIAL_MIGRATION:"TRIAL_MIGRATION",START_TRIAL:"START_TRIAL"}},D={SEGMENT_ALARM:"segmentUpdate",TRACKERSBLOCKER_ALARM:"trackersBlockerConfigAlarm",ADSBLOCKER_ALARM:"adsBlockerConfigAlarm"},k="Ry0wRkNSNkVHN0JQ",U="Ull6emJSNUFUSWlKUVJEd2JrNXJrQQ==",v={CONTENT_SETTINGS:"contentSettings",ALL_URLS:"<all_urls>",BLOCK:"block",ASK:"ask"},F={Enabled:{BadgeText:"",BadgeColor:"#8ab4f8",Image:"/images/icon128.png"},Disabled:{BadgeText:"OFF",BadgeColor:"#c53929",Image:"/images/icon128_disabled.png"}},M={HIDDEN_PROPERTY:"{display: none !important ; visibility : hidden !important ; opacity : 0 !important}",DISPLAY:"display",VISIBILITY:"visibility",OPACITY:"opacity"},K={KEY_CONFIG_STORAGE:"adsBlockerConfig"},G={KEY_CONFIG_STORAGE:"trackersBlockerConfig"},x={WHATS_NEW_ICON:"images/pro_feature.svg"},V=!1,j="pbSocialHANDLED"},,function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"k",(function(){return i})),r.d(t,"p",(function(){return s})),r.d(t,"j",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"s",(function(){return c})),r.d(t,"n",(function(){return l})),r.d(t,"r",(function(){return _})),r.d(t,"e",(function(){return h})),r.d(t,"u",(function(){return O})),r.d(t,"q",(function(){return d})),r.d(t,"m",(function(){return T})),r.d(t,"i",(function(){return f})),r.d(t,"t",(function(){return I})),r.d(t,"l",(function(){return p})),r.d(t,"b",(function(){return A})),r.d(t,"c",(function(){return S})),r.d(t,"o",(function(){return m})),r.d(t,"f",(function(){return C})),r.d(t,"h",(function(){return N})),r.d(t,"a",(function(){return L}));const n={PAUSED:"paused",SETTINGS:"settings",WHITELIST:"whitelist",NUM_OF_BLOCKS:"numOfBlocks",NUM_OF_UNBLOCKS:"numOfUnBlocks",TOTAL_BLOCKS_BY_TAB_ID:"totalBlocksByTabId",TOTAL_BLOCKS_BY_TYPE:"totalBlocksByType",TOTAL_UNBLOCKS_BY_TYPE:"totalUnBlocksByType",BLOCKED_SITES_COUNTER:"counterBlockedSites",UNBLOCKED_SITES_COUNTER:"counterUnBlockedSites",OVERLAY_BLOCKED_LIST:"overlayBlockedList",USER:"user",LAST_USER_UPDATE_DATE:"lastUserUpdateDate",BLOCKED_ELEMENTS:"blockedElements",BLOCKED_ELEMENTS_PROMO:"blockedElementsPromo",BLOCKED_ELEMENTS_COUNT:"blockedElementsCount",DEFAULT_WHITELIST:"defaultWhitelist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:"popularSitesForBlockElements",DEFAULT_WHITELIST_LAST_UPDATE:"defaultWhitelistLastUpdate",POPULAR_SITES_FOR_BLOCK_ELEMENTS_LAST_UPDATE:"popularSitesForBlockElementsLastUpdate",LAST_ALIVE_EVENT_SENT_AT:"lastAliveEventSentAt",AD_BLOCKING:"adBlocking",GENERAL_DATA:"generalData",PROMO_COUPON:"promoCoupon",WHATS_NEW:"whatsNew",DEFAULT_FACEBOOK_CONFIG:"facebookConfig",DEFAULT_SEGMENT_CONFIG:"segmentConfig",PUSH_NOTIFICATIONS_BLOCKER_PROMO:"pushNotificationBlockerPromo",RATING_STAR_CLICK:"ratingStarClick",RATING_US_MODAL:"ratingUsModal",FONT_STYLE:"fontStyle",RDID:"randid",FIRST_POPUP_BLOCK:"isFirstBlockAdds",PIN_TASKBAR_DATA:"pinTaskbarData",SPECIAL_OFFER_MODAL:"specialOfferModal"},i={CATEGORIES:{OPTIONS:"Options_menu",MAIN_MENU:"Menu",CHECKBOX:"Checkbox",CTA:"Button CTA",NAVBAR:"Navigation bar",MISSING:"Missing Ad",NOTIFICATION:"Notification",RATING:"Rating",EXTENSION:"Extension",REPORTS:"Reports",BLOCK_ELEMENT:"Block Element",COOKIE_CRUMBLER:"Cookie Crumbler",INSITE_NOTIFICATIONS:"In-site Notifications"},ACTIONS:{CLICK:"Click",VIEWED:"Viewed",BLOCKED_POPUP:"Popup blocked",DAILY_BLOCKS:"Popups blocked per day",BLOCKED_ELEMENT_SITE:"Blocked element site URL"}},s={GA_EVENT:"trackEvent",UPDATE_TAB_BADGE:"updateTabBadgeText",UPDATE_COUNTS:"updateBlockCounts",CREATE_CONTEXT_MENUS:"createIconContextMenu",SEND_ANALYTICS_EVENT:"sendAnalyticsEvent",SYNC_EXTENSION_ANALYTICS_DATA:"syncExtensionAnalyticsData",KEEN_IO:"KeenIO",ALLOW_ALWAYS:"allowAlways",RESTORE_BLOCKING:"restoreBlocking",REQUEST_TAB_URL:"requestTabUrl",REQUEST_CURRENT_TAB:"requestCurrentTab",OPEN_URL:"openUrl",UPDATE_RATING:"update-rating",GET_USER:"getUser",UPDATE_USER_INFO:"updateUserInfo",SUBSCRIPTION_SUCCESS:"subscription-success",LOGIN:"login",LOGOUT:"logout",START_BLOCKED_ELEMENTS:"start-blocked-elements",MANUAL_REMOVE_OVERLAY:"manual-remove-overlay",ADD_UNBLOCK_ALL_ELEMENTS_MENU:"add-unblock-all-elements-menu",REMOVE_UNBLOCK_ALL_ELEMENTS_MENU:"remove-unblock-all-elements-menu",UNBLOCK_ALL_ELEMENTS:"unblock-all-elements",GET_DEFAULT_WHITELIST:"get-default-whitelist",GET_POPULAR_SITES_FOR_BLOCK_ELEMENTS:"get-popular-sites-for-block-elements",INSERT_COOKIE_FILTERS:"insert-cookie-filters",ACTIVATE_CC_OR_SHOW_PROMO:"activate-cc-or-show-promo",SHOW_COOKIE_CRUMBLER_HOOK:"show-cookie-crumbler-hook",HIDE_COOKIE_CRUMBLER_PROMO:"hide-cookie-crumbler-promo",SHOW_TRIAL_PROMO:"show-trial-promo",CHECK_PROMO_MESSAGE:"check-promo-message",SHOW_COUPON_MESSAGE:"show-coupon-message",OPT_IN_AGREE:"opt-in-agree",OPT_IN_DISAGREE:"opt-in-disagree",SEND_ALIVE_EVENT:"send-alive-event",HIDE_AD_ELEMENT:"hide-ad-element",COUNT_AD_ELEMENT:"count-ad-element",UPDATE_SOCIAL_BLOCKER_CONFIG:"update-social-blocker-config",UPDATE_SEGMENT_DATA:"update-segment-data",UPDATE_BLOCK_COUNT:"update-block-count",UPDATE_UNBLOCK_COUNT:"update-unblock-count",COUNT_COOKIE_MESSAGES:"count-cookie-messages",TOGGLE_PUSH_NOTIFICATIONS_BLOCKING:"toggle-push-notification-blocking",INJECT_FONTS:"inject-font",FETCH_SETTINGS:"fetch-settings",UPDATE_REMOTE_SETTINGS:"update-remote-settings",UPDATE_REMOTE_AND_LOCAL_SETTINGS:"update-remote-and-local-settings",REQUEST_TRIAL_STATUS:"request-trial-status",EXTENSION_IS_PINNED:"extension-is-pinned",REQUEST_EXTENSION_ID:"request-extension-id",UPDATE_EXTENSION_ID:"update-extension-id",UPDATE_SCRIPT_BLOCKERS_STATE:"update-script-blockers-state",SETTINGS_CHANGED:"settings-changed",UPDATE_SETTINGS:"update-settings",EXTENSION_IS_ALLOWED_INCOGNITO:"extension-is-allowed-incognito",GET_ALL_EXTENSION_PERMISSIONS_GRANTED:"get-all-extension-permissions-granted",REQUEST_OPTIONAL_PERMISSIONS:"request-optional-permissions",ON_EXTENSION_ENABLED_STATE_UPDATED:"extension-enabled-state-updated"},o={POPUPS:"popups",OVERLAYS:"overlays",COOKIE_CRUMBLER:"cookieCrumbler",FACEBOOK:"facebookAdds",PUSH_NOTIFICATION:"pushNotification",ADS_BLOCKER:"adsBlocker"},a={COOKIE:"images/cookie-animation.json",FACEBOOK_END:"images/endTrialFacebookAnimation.json",PIN:"images/pinAnimation.json"},c={BLOCK_ELEMENT_ROOT:"pb-block-element-root",LIMIT_NOTIFICATION_ROOT:"pb-limit-notification-root",PROMO_ROOT:"pb-feature-promo-root",COOKIE_PROMO_ROOT:"pb-cookie-promo-root",MESSAGE_NOTIFICATION_ROOT:"pb-message-notification-root"},l={CHROME_EXTENTION_MANAGER:"chrome://extensions",FF_EXTENTION_MANAGER:"about:addons",WEB_APP:"https://app.poperblocker.com",CHECKOUT_YEARLY_PLAN:"https://app.poperblocker.com/checkout?selectedPlan=Yearly",ANALYTICS_APP:"https://analytics.poperblocker.com",VALID_MESSAGE_DOMAINS:["poperblocker.com"],THANK_YOU_PAGE_CH:"https://poperblocker.com/welcome",THANK_YOU_PAGE_FF:"https://poperblocker.com/welcome-firefox",PRIVACY_POLICY_CH:"https://poperblocker.com/privacy/",PRIVACY_POLICY_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",UNINSTALL_PAGE_CH:"https://poperblocker.com/uninstall/?",UNINSTALL_PAGE_FF:"https://poperblocker.com/uninstall-firefox/?",FEEDBACK_PAGE:"https://poperblocker.com/feedback.html?from=ext",CONTACT_PAGE:"https://poperblocker.com/contact-form.html",CONTRIBUTE_PAGE:"https://poperblocker.com/contribute?utm_source=Extension_Popup",GOOGLE_FORM:"https://forms.gle/DfoB6hyd7MFtDPP8A",APPSTORE_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",APPSTORE_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",REVIEW_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche/reviews",REVIEW_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",TWITTER_SHARE:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",FACEBOOK_SHARE:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below"},u=l.WEB_APP+"/api/v1",E=""+l.ANALYTICS_APP,_="poper-blocked",h={OVERLAY_CHECK:"https://api2.poperblocker.com/view/update",ANALYTICS_SEND_EVENT:E+"/event",GET_USER:u+"/user",GET_USER_SEGMENT:u+"/segment",LOGOUT:u+"/auth/logout",MANAGE_SUBSCRIPTION:u+"/subscriptions",ANALYTIC_INFO:u+"/analytics/sync",WHITELIST:u+"/whitelist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:u+"/mostPopularSitesForBlockElements",PROMO_COUPON:u+"/promoCoupon",SETTINGS:u+"/settings",REFRESH:u+"/auth/refresh",SOCIALBLOCKER_CONFIG:u+"/socialblocker/config",ADS_BLOCKER_CONFIG:u+"/adsblocker/config",TRACKERS_BLOCKER_CONFIG:u+"/trackersblocker/config"},O=288e5,d=864e5,T=36e5,f=3,I=1e3,p=2147483646,A={adText:/((^|\s)(([aA][dD]\s)|advertisement|sponsored))/i,adChoicesIcon:/(adchoices)/i,containerElementTags:["iframe","div","section","td","ins"],adHintRegex:/((^|\s|_|\.|-)([aA][dD]([sS])?|[a-zA-Z]*Ad(s)?|adtech|adtag|dfp|darla|adv|advertisement|(b|B)anner|adsbygoogle|adwrap|adzerk|safeframe|300[xX]250|160[xX]600|728[xX]90)(\s|$|_|\.|-|[A-Z0-9]))/,elementMinSize:100,textMinSize:30},S={ANALYTICS_INFO_KEY:"ANALYTICS_INFO",ANALYTICS_PLATFORM:"Extension",ANALYTICS_PRODUCT:"PoperBlocker",ANALYTICS_RESOURCE_TYPES:{PAID:"PAID",ORGANIC:"ORGANIC"},ANALYTICS_EVENT_TYPES:{EXTENSION_INSTALL:"EXTENSION_INSTALL",EXTENSION_UNINSTALL:"EXTENSION_UNINSTALL",EXTENSION_UPGRADE:"EXTENSION_UPGRADE",EXTENSION_INSTALL_GENERAL:"EXTENSION_INSTALL_GENERAL",EXTENSION_OPT_IN_VIEWED:"EXTENSION_OPT_IN_VIEWED",EXTENSION_OPT_IN_CLICKED_AGREE:"EXTENSION_OPT_IN_CLICKED_AGREE",EXTENSION_OPT_OUT_CLICKED_AGREE:"EXTENSION_OPT_OUT_CLICKED_AGREE",POPUP_BLOCKED:"POPUP_BLOCKED",ALLOW_POPUPS:"ALLOW_POPUPS",DID_WE_MISS_ONE:"DID_WE_MISS_ONE",ELEMENT_BLOCKED:"ELEMENT_BLOCKED",OVERLAY_BLOCKED:"OVERLAY_BLOCKED",OVERLAY_DETECTED:"OVERLAY_DETECTED",REMOVE_OVERLAY_FOREVER:"REMOVE_OVERLAY_FOREVER",UNDO_OVERLAY_REMOVAL:"UNDO_OVERLAY_REMOVAL",ELEMENT_BLOCKED_UNDO:"ELEMENT_BLOCKED_UNDO",ELEMENT_BLOCKED_SAVE:"ELEMENT_BLOCKED_SAVE",BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW:"BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW",BLOCK_ELEMENT_FREE_BLOCKS:"BLOCK_ELEMENT_FREE_BLOCKS",BLOCK_ELEMENT_NO_BLOCKS_VIEW:"BLOCK_ELEMENT_NO_BLOCKS_VIEW",BLOCK_ELEMENT_UNBLOCK_ELEMENTS:"BLOCK_ELEMENT_UNBLOCK_ELEMENTS",WHITELIST_ADD:"WHITELIST_ADD",WHITELIST_REMOVE:"WHITELIST_REMOVE",SETTINGS_PAGE_VIEW:"SETTINGS_PAGE_VIEW",COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW:"COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW",INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW:"INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW",COOKIE_CRUMBLER_TRIAL_START:"COOKIE_CRUMBLER_TRIAL_START",COOKIE_CRUMBLER_HIDE_FOREVER:"COOKIE_CRUMBLER_HIDE_FOREVER",COOKIE_CRUMBLER_IN_TRIAL:"COOKIE_CRUMBLER_IN_TRIAL",COOKIE_CRUMBLER_END_OF_TRIAL:"COOKIE_CRUMBLER_END_OF_TRIAL",COOKIE_CRUMBLER_IN_TRIAL_CLICK:"COOKIE_CRUMBLER_IN_TRIAL_CLICK",COOKIE_CRUMBLER_USE_CASE_CLOSE:"COOKIE_CRUMBLER_USE_CASE_CLOSE",COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK",COOKIE_CRUMBLER_USE_CASE_VIEW:"COOKIE_CRUMBLER_USE_CASE_VIEW",COOKIE_CRUMBLER_USE_CASE_CLICK:"COOKIE_CRUMBLER_USE_CASE_CLICK",ALIVE:"ALIVE",SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK",SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK:"SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK",SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW:"SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW",IN_PRODUCT_PROMOTION_DIALOG_CLICK:"IN_PRODUCT_PROMOTION_DIALOG_CLICK",IN_PRODUCT_PROMOTION_DIALOG_VIEW:"IN_PRODUCT_PROMOTION_DIALOG_VIEW",IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_ON:"IN_SITE_PUSH_NOTIFICATION_ON",IN_SITE_PUSH_NOTIFICATION_OFF:"IN_SITE_PUSH_NOTIFICATION_OFF",BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK:"BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK",EXPAND_NOT_BLOCKED_DROPDOWN_CLICK:"EXPAND_NOT_BLOCKED_DROPDOWN_CLICK",RATE_US_DIALOG_VIEW:"RATE_US_DIALOG_VIEW",RATE_US_DIALOG_CLICK:"RATE_US_DIALOG_CLICK",RATE_US_DIALOG_RESULT_VIEW:"RATE_US_DIALOG_RESULT_VIEW",SEGMENTATION_PROMOTION_VIEW:"SEGMENTATION_PROMOTION_VIEW",SEGMENTATION_PROMOTION_CLICK:"SEGMENTATION_PROMOTION_CLICK",ADBLOCKER_PROMOTION_VIEW:"ADBLOCKER_PROMOTION_VIEW",ADBLOCKER_PROMOTION_CLICK:"ADBLOCKER_PROMOTION_CLICK",MONETIZATION_NOIFICATION_VIEW:"MONETIZATION_NOIFICATION_VIEW",MONETIZATION_NOIFICATION_CTA_CLICK:"MONETIZATION_NOIFICATION_CTA_CLICK",MONETIZATION_NOIFICATION_COPY_CODE_CLICK:"MONETIZATION_NOIFICATION_COPY_CODE_CLICK",SOCIAL_BLOCKER_FEED_PROMOTION_VIEW:"SOCIAL_BLOCKER_FEED_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_PROMOTION_OPEN:"SOCIAL_BLOCKER_FEED_PROMOTION_OPEN",SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW:"SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL:"SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL",FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW:"FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW",FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED:"FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED",CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL:"CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL",CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT:"CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT",CLICK_COOKIE_PROMOTION_DISCOUNT:"CLICK_COOKIE_PROMOTION_DISCOUNT",PIN_TASKBAR_POPUP_VIEW:"PIN_TASKBAR_POPUP_VIEW",PIN_TASKBAR_POPUP_DISMISS_CLICK:"PIN_TASKBAR_POPUP_DISMISS_CLICK",TRIAL_MIGRATION:"TRIAL_MIGRATION"},PAGE:{PANEL:"PANEL",PANEL_SETTINGS_TAB:"PANEL_SETTINGS_TAB"},FEATURE:{SCREEN:"SCREEN",WHATS_NEW_CARD:"WHATS_NEW_CARD",WHATS_NEW_CARD_CTA:"WHATS_NEW_CARD_CTA",SPECIAL_OFFER_CARD:"SPECIAL_OFFER_CARD",SPECIAL_OFFER_CARD_PROCTA:"SPECIAL_OFFER_CARD_PROCTA",SPECIAL_OFFER_CARD_REMIND_LATER:"SPECIAL_OFFER_CARD_REMIND_LATER",SPECIAL_OFFER_CARD_X:"SPECIAL_OFFER_CARD_X",EXTENSION_DISABLED_CARD:"EXTENSION_DISABLED_CARD",EXTENSION_DISABLED_CARD_CTA:"EXTENSION_DISABLED_CARD_CTA",HEADER_GO_PRO:"HEADER_GO_PRO",HEADER_MENU:"HEADER_MENU",DROP_MENU_SETTINGS:"DROP_MENU_SETTINGS",DROP_MENU_LOGIN:"DROP_MENU_LOGIN",DROP_MENU_LOGOUT:"DROP_MENU_LOGOUT",DROP_MENU_DISABLE:"DROP_MENU_DISABLE",DROP_MENU_ENABLE:"DROP_MENU_ENABLE",WHITELIST_SITE:"WHITELIST_SITE",HIDE_DISTRACTIONS:"HIDE_DISTRACTIONS",HIDE_DISTRACTIONS_BACK:"HIDE_DISTRACTIONS_BACK",HIDE_DISTRACTIONS_REMOVE_ELEMENT:"HIDE_DISTRACTIONS_REMOVE_ELEMENT",HIDE_DISTRACTIONS_REMOVE_OVERLAY:"HIDE_DISTRACTIONS_REMOVE_OVERLAY",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION",STATISTICS_TAB:"STATISTICS_TAB",STATISTICS_TAB_UN_BLOCKED:"STATISTICS_TAB_UN_BLOCKED",STATISTICS_TAB_BLOCKED:"STATISTICS_TAB_BLOCKED",STATISTICS_TAB_GO_PRO_CTA:"STATISTICS_TAB_GO_PRO_CTA",SETTINGS_TAB:"SETTINGS_TAB",POPUPS:"POPUPS",OVERLAYS:"OVERLAYS",COOKIE_CRUMBLER:"COOKIE_CRUMBLER",FACEBOOK:"FACEBOOK",PUSH_NOTIFICATION:"PUSH_NOTIFICATION",ADS_BLOCKER:"ADS_BLOCKER",ADVANCED_SETTINGS:"ADVANCED_SETTINGS"},EVENT_TYPE:{VIEW:"VIEW",CLICK:"CLICK",TOGGLE_ON:"TOGGLE_ON",TOGGLE_OFF:"TOGGLE_OFF",PANEL_SPECIAL_OFFER_X_CLICK:"PANEL_SPECIAL_OFFER_X_CLICK",PANEL_SPECIAL_OFFER_MAYBELATER_CLICK:"PANEL_SPECIAL_OFFER_MAYBELATER_CLICK",PANEL_SPECIAL_OFFER_GOPRO_CLICK:"PANEL_SPECIAL_OFFER_GOPRO_CLICK",PANEL_SPECIAL_OFFER_GOPRO_VIEW:"PANEL_SPECIAL_OFFER_GOPRO_VIEW",TRIAL_MIGRATION:"TRIAL_MIGRATION",START_TRIAL:"START_TRIAL"}},m="Ry0wRkNSNkVHN0JQ",C="Ull6emJSNUFUSWlKUVJEd2JrNXJrQQ==",N={HIDDEN_PROPERTY:"{display: none !important ; visibility : hidden !important ; opacity : 0 !important}",DISPLAY:"display",VISIBILITY:"visibility",OPACITY:"opacity"},L=!1},,function(e,t,r){"use strict";r.d(t,"k",(function(){return getBrowser})),r.d(t,"p",(function(){return getI18N})),r.d(t,"q",(function(){return getI18NWithParams})),r.d(t,"w",(function(){return isDomainInList})),r.d(t,"K",(function(){return sendGAEvent})),r.d(t,"L",(function(){return sendMessageToWorker})),r.d(t,"N",(function(){return sendToWorker})),r.d(t,"r",(function(){return getManifest})),r.d(t,"s",(function(){return getTodayBlockCount})),r.d(t,"t",(function(){return getTotalBlockPerTab})),r.d(t,"y",(function(){return isFireFoxIncognito})),r.d(t,"M",(function(){return sendToActiveTab})),r.d(t,"l",(function(){return getCurrentTab})),r.d(t,"o",(function(){return getHostName})),r.d(t,"d",(function(){return copyTextToClipboard})),r.d(t,"i",(function(){return getActiveTab})),r.d(t,"e",(function(){return enableProFetures})),r.d(t,"n",(function(){return getDefaultSocialBlockerConfig})),r.d(t,"U",(function(){return updateSocialBlockerConfig})),r.d(t,"T",(function(){return updateSegmentData})),r.d(t,"R",(function(){return updateLocalSettings})),r.d(t,"S",(function(){return updateRemoteSettingsData})),r.d(t,"f",(function(){return fetchRemoteSettingsData})),r.d(t,"I",(function(){return readLocalSettingsData})),r.d(t,"Q",(function(){return updateLocalAndRemoteFeatureSettings})),r.d(t,"F",(function(){return onStartCookieTrial})),r.d(t,"O",(function(){return timeToString})),r.d(t,"H",(function(){return parseTime})),r.d(t,"B",(function(){return isPremium})),r.d(t,"D",(function(){return msToDays})),r.d(t,"z",(function(){return isKeyExists})),r.d(t,"m",(function(){return getDaysPassed})),r.d(t,"a",(function(){return backgroundSafeExec})),r.d(t,"A",(function(){return isPermissionGranted})),r.d(t,"j",(function(){return getAllPermissionGranted})),r.d(t,"J",(function(){return requestPermission})),r.d(t,"b",(function(){return checkIsPinned})),r.d(t,"P",(function(){return updateBlockedCounter})),r.d(t,"c",(function(){return cleanDomain})),r.d(t,"G",(function(){return openPlansPage})),r.d(t,"v",(function(){return isAllowedIncognitoAccess})),r.d(t,"u",(function(){return getUserStatus})),r.d(t,"C",(function(){return isPremiumUser})),r.d(t,"h",(function(){return generateAnalyticsEventName})),r.d(t,"g",(function(){return generateAnalyticsEventAndSendToWorker})),r.d(t,"x",(function(){return isExtensionEnabled})),r.d(t,"E",(function(){return onPostLogout}));var n=r(0),i=r(15),s=r(12),o=r(5),a=r(9),c=r(17),l=r(7),u=r(16),E=r(18),_=r(19);const getBrowser=()=>/firefox/i.test(navigator.userAgent)?"FF":"CH",getI18N=(e,t)=>chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e,getI18NWithParams=(e,...t)=>t.reduce((e,t)=>e.replace("%s",t),getI18N(e)),isDomainInList=(e,t)=>{t=t||[];for(let r=0;r<t.length;r++){const n=t[r];if(new RegExp("\\b[(www\\.)|.*.]?"+n+"\\b").test(e))return!0}return!1},sendGAEvent=(e,t,r,i)=>new Promise(s=>{chrome.runtime.sendMessage({name:n.v.GA_EVENT,category:e,action:t,label:r,isCount:i},()=>s())}),sendMessageToWorker=e=>new Promise(t=>{l.BrowserAPI.runtime.sendMessage(e,e=>t(e))}),sendToWorker=e=>new Promise(t=>{chrome.runtime.sendMessage(e,e=>t(e))}),getManifest=()=>chrome.runtime.getManifest(),getTodayBlockCount=(e,t)=>{const r=(t||{})[e];return r&&(e=>{const t=new Date,r=new Date(e[0]),n=new Date(e[1]);return t>=r&&t<n})(r.currentTimeRange)?r.todayCount:0},getTotalBlockPerTab=(e,t)=>{const r=(t||{})[e];return r?r.totalCount:0},isFireFoxIncognito=()=>new Promise(e=>{if("FF"!=getBrowser())return e(!1);chrome.tabs.query({currentWindow:!0,active:!0},t=>{const r=t[0].id;chrome.tabs.executeScript(r,{code:"isI=chrome.extension.inIncognitoContext; isI;"},t=>chrome.runtime.lastError?e(!1):e(!(!t||!Array.isArray(t))&&t[0]))})}),sendToActiveTab=(e,t)=>{chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(r){const n=r&&r[0]&&r[0].id;n&&chrome.tabs.sendMessage(n,{name:e,data:t||""})}))},getCurrentTab=async()=>new Promise(e=>{sendMessageToWorker({name:n.v.REQUEST_CURRENT_TAB}).then(t=>{e(t)})}),getHostName=e=>{try{return new URL(e).host}catch(t){return e}},copyTextToClipboard=e=>{const t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},getActiveTab=()=>new Promise(e=>{chrome.tabs.query({active:!0,lastFocusedWindow:!0},t=>{e(t[0])})}),enableProFetures=()=>{u.a.setFeaturesEnabled(Object(o.c)(),!0)},getDefaultSocialBlockerConfig=async()=>{const e=await fetch(n.f.SOCIALBLOCKER_CONFIG);if(200===e.status){const t={config:await e.json(),updateTime:Date.now()};chrome.storage.local.set({[n.h.DEFAULT_FACEBOOK_CONFIG]:t})}},updateSocialBlockerConfig=async()=>{chrome.storage.local.get(n.h.DEFAULT_FACEBOOK_CONFIG,async e=>{const t=e[n.h.DEFAULT_FACEBOOK_CONFIG];Date.now()-t.updateTime>=4*n.r&&await getDefaultSocialBlockerConfig()})},updateSegmentData=async()=>{chrome.storage.local.get([n.h.DEFAULT_SEGMENT_CONFIG],async e=>{var t;const r=e[n.h.DEFAULT_SEGMENT_CONFIG],s=await Object(i.a)();if(null==s?void 0:s.uuid){const e=await fetch(n.f.GET_USER_SEGMENT,{headers:{id:s.uuid}});if(200===e.status){const i=await e.json(),s=null!=(t=null==r?void 0:r.lastDisplayTime)?t:Date.now()-31*n.y,o={config:i,updateTime:Date.now(),lastDisplayTime:s,lastUpdateTime:Date.now()};chrome.storage.local.set({[n.h.DEFAULT_SEGMENT_CONFIG]:o})}}})},updateLocalSettings=async e=>{const t=await s.a.get(n.h.SETTINGS),r=e.features;for(const e in r)t[e]=r[e]||!1;e.features.overlays&&!t.isOptIn&&(t.isOptIn=!0),t.detectOverlays=r.overlays,await s.a.set(n.h.SETTINGS,t),e.whitelist&&await s.a.set(n.h.WHITELIST,e.whitelist),e.blockedElements&&await s.a.set(n.h.BLOCKED_ELEMENTS,e.blockedElements)},updateRemoteSettingsData=async()=>{chrome.storage.local.get([n.h.BLOCKED_ELEMENTS,n.h.SETTINGS,n.h.WHITELIST,n.h.USER],async e=>{const t=e[n.h.WHITELIST],r=e[n.h.BLOCKED_ELEMENTS],s=e[n.h.USER],c=e[n.h.SETTINGS],l=null==s?void 0:s.isPremium,{version:u}=getManifest(),E={extensionVersion:u,features:{popups:void 0===c.popups||c.popups,overlays:c.detectOverlays,hideElements:void 0===c.hideElements||c.hideElements,pushNotification:!!c.pushNotification&&c.pushNotification},whitelist:t||[],blockedElements:r||{}};Object(o.c)().forEach(async e=>{const t=e.SettingsKey,r=await a.b.getDefault(e).loadAndUpdate();E.features[e.SettingsKey]=c[t]&&(l||r.isTrialActive())});const _=await Object(i.a)();await fetch(n.f.SETTINGS,{method:"POST",headers:{"Content-Type":"application/json",id:_.uuid},body:JSON.stringify(E)})})},fetchRemoteSettingsData=async()=>{chrome.storage.local.get([n.h.BLOCKED_ELEMENTS,n.h.SETTINGS,n.h.WHITELIST],async e=>{try{let t=e[n.h.WHITELIST],r=e[n.h.BLOCKED_ELEMENTS];const s=e[n.h.SETTINGS],a=await Object(i.a)(),l=await Object(c.a)(n.f.SETTINGS,{headers:{id:a.uuid}},200);if(l.ok){const e=await l.json();Object(o.c)().forEach(t=>{const r=t.SettingsKey;s[r]=e.features[t.SettingsKey]||!1}),s.popups=e.features.popups,s.detectOverlays=e.features.overlays,s.hideElements=e.features.hideElements,s.pushNotification=e.features.pushNotification,t=e.whitelist||[],r=e.blockedElements||{},e.features.overlays&&!s.isOptIn&&(s.isOptIn=!0,s.detectOverlays=!0),chrome.storage.local.set({[n.h.SETTINGS]:s,[n.h.WHITELIST]:t,[n.h.BLOCKED_ELEMENTS]:r})}}catch(e){}})},readLocalSettingsData=async()=>{const e=await a.b.getDefault(o.a.CookieCrumbler).loadAndUpdate(),t=await a.b.getDefault(o.a.SocialBlocker).loadAndUpdate(),r=await a.b.getDefault(o.a.AdsBlocker).loadAndUpdate(),i=await a.b.getDefault(o.a.TrackersBlocker).loadAndUpdate(),s=await Object(c.c)();return new Promise(a=>{chrome.storage.local.get([n.h.SETTINGS],c=>{const l=c[n.h.SETTINGS],u=!!s&&s.isPremium,E={popups:{isSelected:l.popups},overlays:{isSelected:l.detectOverlays},pushNotification:{isSelected:l.pushNotification},cookieCrumbler:{isPremium:u,isSelected:l.cookieCrumbler&&u||l.cookieCrumbler&&e.isTrialActive(),inTrialMode:!u&&e.isTrialActive(),trialLeftDays:e&&e.daysLeft||-1,trialEndMode:e&&0===e.daysLeft,feature:o.a.CookieCrumbler},facebookAdds:{isPremium:u,isSelected:l.facebookAdds&&u||l.facebookAdds&&t.isTrialActive(),inTrialMode:!u&&t.isTrialActive(),trialLeftDays:t&&t.daysLeft||-1,trialEndMode:t&&0===t.daysLeft,feature:o.a.SocialBlocker},adsBlocker:{isPremium:u,isSelected:l.adsBlocker&&(u||r.isTrialActive()),inTrialMode:!u&&r.isTrialActive(),trialLeftDays:r&&r.daysLeft||-1,trialEndMode:r&&0===r.daysLeft,feature:o.a.AdsBlocker},trackersBlocker:{isPremium:u,isSelected:l.trackersBlocker&&(u||i.isTrialActive()),inTrialMode:!u&&i.isTrialActive(),trialLeftDays:i&&i.daysLeft||-1,trialEndMode:i&&0===i.daysLeft,feature:o.a.TrackersBlocker}};a(E)})})},updateLocalAndRemoteFeatureSettings=async e=>{chrome.storage.local.get([n.h.SETTINGS],async t=>{const r=t[n.h.SETTINGS];Object(o.c)().forEach(t=>{const n=t.SettingsKey;r[n]=e[t.SettingsKey]||!1}),r.popups=e.popups||!1,r.detectOverlays=e.overlays||!1,r.pushNotification=e.pushNotification||!1;const s=await Object(i.a)(),a={features:{popups:r.popups,overlays:r.detectOverlays,hideElements:r.hideElements,pushNotification:r.pushNotification}};Object(o.c)().forEach(async e=>{const t=e.SettingsKey;a.features[e.SettingsKey]=r[t]}),await fetch(n.f.SETTINGS,{method:"POST",headers:{"Content-Type":"application/json",id:s.uuid},body:JSON.stringify(a)}),chrome.storage.local.set({[n.h.SETTINGS]:r})})},onStartCookieTrial=()=>{sendMessageToWorker({name:n.v.INSERT_COOKIE_FILTERS}),sendToActiveTab(n.v.HIDE_COOKIE_CRUMBLER_PROMO)},roundTime2Digit=e=>e.toString().padStart(2,"0"),timeToString=e=>`${roundTime2Digit(e.hours)}h:${roundTime2Digit(e.minutes)}m:${roundTime2Digit(e.seconds)}s`,parseTime=e=>({days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)}),isPremium=async()=>{const e=await s.a.get(n.h.USER);return!!(null==e?void 0:e.isPremium)},msToDays=e=>e/n.y,isKeyExists=(e,t)=>e.every(e=>e in t),getDaysPassed=e=>{const t=e,r=Date.now()-t;return Math.floor(msToDays(r))},backgroundSafeExec=(e,t)=>{void 0!==l.BrowserAPI.tabs?e():t()},isPermissionGranted=e=>new Promise(t=>l.BrowserAPI.permissions.contains(e,t)),getAllPermissionGranted=()=>new Promise(e=>l.BrowserAPI.permissions.getAll(e)),requestPermission=e=>new Promise(t=>l.BrowserAPI.permissions.request(e,t)),checkIsPinned=async()=>({isPinned:(await l.BrowserAPI.action.getUserSettings()).isOnToolbar}),updateBlockedCounter=e=>{sendToActiveTab(n.v.UPDATE_BLOCK_COUNT,{type:e})};function cleanDomain(e){if(!e)return e;let t=e.trim();if(/^chrome-extension?:\/\//.test(t))return t;/^https?:\/\//.test(t)||(t="http://"+t);try{return new URL(t).hostname.replace(/^www\d*\./,"")}catch(e){return t}}const openPlansPage=()=>{const e=n.t.WEB_APP+"/plans";backgroundSafeExec(()=>chrome.tabs.create({url:e}),()=>sendToWorker({name:n.v.OPEN_URL,url:e}))},isAllowedIncognitoAccess=async()=>await l.BrowserAPI.extension.isAllowedIncognitoAccess(),getUserStatus=e=>{let t=E.a.Anonymous;return(null==e?void 0:e.id)&&(t=E.a.Free,(null==e?void 0:e.isPremium)&&(t=E.a.Premium)),t},isPremiumUser=e=>!!(null==e?void 0:e.isPremium),generateAnalyticsEventName=(e,t,r)=>`${n.d.PAGE[e]}_${n.d.FEATURE[t]}_${n.d.EVENT_TYPE[r]}`,generateAnalyticsEventAndSendToWorker=(e,t,r,i)=>{let s=void 0;i&&(s={payload:JSON.stringify(i)}),sendMessageToWorker({name:n.v.SEND_ANALYTICS_EVENT,eventType:generateAnalyticsEventName(e,t,r),eventPayload:s})},isExtensionEnabled=async()=>!!!await s.a.get(n.h.PAUSED),onPostLogout=async e=>{e&&await _.a.clearTrials(),await(async()=>{for(const e of Object(o.c)())await u.a.setFeatureEnabled(e,!1)})(),await updateRemoteSettingsData()}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return getPremiumFeaturesList})),r.d(t,"d",(function(){return isFeatureEquals})),r.d(t,"e",(function(){return isPremiumFeature}));var n=r(0);const i="tState",s={SocialBlocker:{Name:"SocialBlocker",SettingsKey:"facebookAdds",TrialKey:i,LegacyTrialKey:"facebookTrial",QuickSettings:{QuickSettingsId:n.m.FACEBOOK,QuickSettingsTitleId:"settingsSocialAd"},HasTrial:!0,TrialDays:n.l,Style:{"margin-top":"43px"},ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.e.FACEBOOK_END,TotalBlocksKeys:["fbAd","linkedinAd","twitterAd","instagramAd"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.d.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW,PromoView:n.d.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW,PromoNotificationClick:n.d.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.d.ANALYTICS_EVENT_TYPES.CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT}},CookieCrumbler:{Name:"CookieCrumbler",SettingsKey:"cookieCrumbler",TrialKey:i,LegacyTrialKey:"cookieCrumblerTrial",QuickSettings:{QuickSettingsId:n.m.COOKIE_CRUMBLER,QuickSettingsTitleId:"settingsCookie"},HasTrial:!0,TrialDays:n.l,Style:{"margin-top":"23px"},ImgURL:"images/cookie-blocked.svg",TitleStrId:"cookiesBlocked",StartTrialBtnStrId:"startTrialcookiesBtn",EndTrialBtnStrId:"removeCookieForAllGood",EndTrialLottieFile:n.e.COOKIE,TotalBlocksKeys:["cookie"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.d.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_END_OF_TRIAL,PromoView:n.d.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_IN_TRIAL,PromoNotificationClick:n.d.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.d.ANALYTICS_EVENT_TYPES.CLICK_COOKIE_PROMOTION_DISCOUNT}},AdsBlocker:{Name:"AdsBlocker",SettingsKey:"adsBlocker",QuickSettings:{QuickSettingsId:"adsBlocker",QuickSettingsTitleId:"settingsAdsBlocker"},HasTrial:!0,TrialKey:i,TrialDays:n.l,TotalBlocksKeys:["ad"],ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.e.FACEBOOK_END,ShowDailyPromo:!1,Analytics:{}},TrackersBlocker:{Name:"TrackersBlocker",SettingsKey:"trackersBlocker",QuickSettings:{QuickSettingsId:"trackersBlocker",QuickSettingsTitleId:"settingsTrackersBlocker"},HasTrial:!0,TrialKey:i,TrialDays:n.l,TotalBlocksKeys:["tracker"],ImgURL:"images/facebook-cta.svg",TitleStrId:"trackersBlockerSettingsTitle",EndTrialLottieFile:n.e.FACEBOOK_END,Analytics:{}}},getPremiumFeaturesList=()=>Object.keys(s).map(e=>s[e]),isFeatureEquals=(e,t)=>e.Name===t.Name,isPremiumFeature=e=>getPremiumFeaturesList().some(t=>isFeatureEquals(t,e))},function(e,t,r){"use strict";var n=r(13);t.a=new class StorageHelper{get(e){return new Promise((t,r)=>{this.getAll(e).then(r=>{t(r&&e in r?r[e]:null)}).catch(r)})}getAll(...e){return new Promise((t,r)=>{n.BrowserAPI.storage.local.get(e,e=>{var i;if(e)t(e);else{const e=null==(i=n.BrowserAPI.runtime)?void 0:i.lastError;e?r(e):t(null)}})})}set(e,t){return new Promise((r,i)=>{n.BrowserAPI.storage.local.set({[e]:t},()=>{var e;const t=null==(e=n.BrowserAPI.runtime)?void 0:e.lastError;t?i(t):r()})})}remove(e){return new Promise((t,r)=>{let i=0;e.forEach(s=>{n.BrowserAPI.storage.local.remove(s,()=>{var s;const o=null==(s=n.BrowserAPI.runtime)?void 0:s.lastError;o?r(o):++i==e.length&&t()})})})}}},function(e,t){const r=["Chrome","Opera","Edge","SamsungBrowser","YaBrowser"],n=["Firefox","Safari","MSIE"];e.exports.BrowserAPI=(()=>{for(const e of r)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?chrome:(()=>{for(const e of n)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?browser:{}},function(e,t,r){"use strict";r.d(t,"b",(function(){return getBrowser})),r.d(t,"d",(function(){return getI18N})),r.d(t,"f",(function(){return isDomainInList})),r.d(t,"i",(function(){return sendGAEvent})),r.d(t,"j",(function(){return sendMessageToWorker})),r.d(t,"l",(function(){return sendToWorker})),r.d(t,"e",(function(){return getManifest})),r.d(t,"k",(function(){return sendToActiveTab})),r.d(t,"g",(function(){return isPremium})),r.d(t,"h",(function(){return msToDays})),r.d(t,"c",(function(){return getDaysPassed})),r.d(t,"a",(function(){return backgroundSafeExec}));var n=r(2),i=(r(53),r(30),r(6));Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;r(11),r(14);var s=r(13);r(21),r(31);const getBrowser=()=>/firefox/i.test(navigator.userAgent)?"FF":"CH",getI18N=(e,t)=>chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e,isDomainInList=(e,t)=>{t=t||[];for(let r=0;r<t.length;r++){const n=t[r];if(new RegExp("\\b[(www\\.)|.*.]?"+n+"\\b").test(e))return!0}return!1},sendGAEvent=(e,t,r,i)=>new Promise(s=>{chrome.runtime.sendMessage({name:n.p.GA_EVENT,category:e,action:t,label:r,isCount:i},()=>s())}),sendMessageToWorker=e=>new Promise(t=>{s.BrowserAPI.runtime.sendMessage(e,e=>t(e))}),sendToWorker=e=>new Promise(t=>{chrome.runtime.sendMessage(e,e=>t(e))}),getManifest=()=>chrome.runtime.getManifest(),sendToActiveTab=(e,t)=>{chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(r){const n=r&&r[0]&&r[0].id;n&&chrome.tabs.sendMessage(n,{name:e,data:t||""})}))},isPremium=async()=>{const e=await i.a.get(n.g.USER);return!!(null==e?void 0:e.isPremium)},msToDays=e=>e/n.q,getDaysPassed=e=>{const t=e,r=Date.now()-t;return Math.floor(msToDays(r))},backgroundSafeExec=(e,t)=>{void 0!==s.BrowserAPI.tabs?e():t()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));var n=r(25),i=r(4),s=r(16),o=(e=>(e[e.PENDING=0]="PENDING",e[e.ACTIVE=1]="ACTIVE",e[e.ENDED=2]="ENDED",e))(o||{});const a=class extends n.a{constructor(e){super(),this.feature=e,this.state=0,this.startTime=-1,this.lastDisplayed=-1,this.doNotShowAgain=!1,this.lastDisplayedPromo=-1,this.daysLeft=e.TrialDays}async loadAndUpdate(){return await super.load(),await this.updateState(),this}async getDaysLeft(){return this.feature.TrialDays-Object(i.m)(this.startTime)}daysSinceDisplayedHook(){const e=Date.now(),t=this.lastDisplayed<0?e:this.lastDisplayed;return Object(i.D)(e-t)}daysSinceDisplayedPromo(){const e=Date.now(),t=this.lastDisplayedPromo<0?e:this.lastDisplayedPromo;return Object(i.D)(e-t)}daysSinceStarted(){const e=Date.now(),t=this.startTime<0?e:this.startTime;return Object(i.D)(e-t)}isTrialActive(){return 1===this.state}isTrialEnded(){return 2===this.state}isTrialStarted(){return this.isTrialActive()&&!this.isTrialEnded()}isTrialPending(){return 0===this.state}async updateState(){if(!this.isTrialActive()||this.daysLeft<=0)return;this.isTrialActive()?this.state=1:this.isTrialEnded()&&(this.state=2);const e=this.daysLeft,t=Object(i.m)(this.startTime);this.daysLeft=this.feature.TrialDays-t;let r=!1;e!==this.daysLeft&&(r=!0),this.daysLeft<=0&&(this.endTrial(),r=!0),r&&this.save()}async enable(){return this.isTrialActive()||this.isTrialEnded()||(this.startTime=Date.now(),this.state=1,this.lastDisplayed=0,await this.save()),this}async endTrial(){return this.isTrialEnded()||!this.isTrialActive()||(this.daysLeft=0,this.state=2,this.doNotShowAgain=!1,await this.save(),await s.a.setFeatureEnabled(this.feature,!1)),this}toDTO(){return{startTime:this.startTime,daysLeft:this.daysLeft,lastDisplayed:this.lastDisplayed,state:this.state,doNotShowAgain:this.doNotShowAgain,lastDisplayedPromo:this.lastDisplayedPromo}}getKey(){return this.feature.TrialKey}getLegacyKeys(){const e=[];return e.push(this.feature.LegacyTrialKey),e}getVersion(){return 2}async migrate(e){if(0===e){const e=this;if("active"in e){const t=Object(i.m)(this.startTime)>=this.feature.TrialDays;this.state=t?2:e.active?1:0}}}};let c=a;c.getDefault=e=>new a(e)},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return getPremiumFeaturesList})),r.d(t,"c",(function(){return isPremiumFeature}));var n=r(2);const i={SocialBlocker:{Name:"SocialBlocker",SettingsKey:"facebookAdds",TrialKey:"tState",LegacyTrialKey:"facebookTrial",QuickSettings:{QuickSettingsId:n.j.FACEBOOK,QuickSettingsTitleId:"settingsSocialAd"},HasTrial:!0,TrialDays:n.i,Style:{"margin-top":"43px"},ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.d.FACEBOOK_END,TotalBlocksKeys:["fbAd","linkedinAd","twitterAd","instagramAd"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.c.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW,PromoView:n.c.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW,PromoNotificationClick:n.c.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.c.ANALYTICS_EVENT_TYPES.CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT}},CookieCrumbler:{Name:"CookieCrumbler",SettingsKey:"cookieCrumbler",TrialKey:"tState",LegacyTrialKey:"cookieCrumblerTrial",QuickSettings:{QuickSettingsId:n.j.COOKIE_CRUMBLER,QuickSettingsTitleId:"settingsCookie"},HasTrial:!0,TrialDays:n.i,Style:{"margin-top":"23px"},ImgURL:"images/cookie-blocked.svg",TitleStrId:"cookiesBlocked",StartTrialBtnStrId:"startTrialcookiesBtn",EndTrialBtnStrId:"removeCookieForAllGood",EndTrialLottieFile:n.d.COOKIE,TotalBlocksKeys:["cookie"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.c.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_END_OF_TRIAL,PromoView:n.c.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_IN_TRIAL,PromoNotificationClick:n.c.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.c.ANALYTICS_EVENT_TYPES.CLICK_COOKIE_PROMOTION_DISCOUNT}},AdsBlocker:{Name:"AdsBlocker",SettingsKey:"adsBlocker",QuickSettings:{QuickSettingsId:"adsBlocker",QuickSettingsTitleId:"settingsAdsBlocker"},HasTrial:!0,TrialKey:"tState",TrialDays:n.i,TotalBlocksKeys:["ad"],ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.d.FACEBOOK_END,ShowDailyPromo:!1,Analytics:{}},TrackersBlocker:{Name:"TrackersBlocker",SettingsKey:"trackersBlocker",QuickSettings:{QuickSettingsId:"trackersBlocker",QuickSettingsTitleId:"settingsTrackersBlocker"},HasTrial:!0,TrialKey:"tState",TrialDays:n.i,TotalBlocksKeys:["tracker"],ImgURL:"images/facebook-cta.svg",TitleStrId:"trackersBlockerSettingsTitle",EndTrialLottieFile:n.d.FACEBOOK_END,Analytics:{}}},getPremiumFeaturesList=()=>Object.keys(i).map(e=>i[e]),isPremiumFeature=e=>getPremiumFeaturesList().some(t=>{return r=e,t.Name===r.Name;var r})},function(e,t,r){"use strict";var n=r(7);t.a=new class StorageHelper{get(e){return new Promise((t,r)=>{this.getAll(e).then(r=>{t(r&&e in r?r[e]:null)}).catch(r)})}getAll(...e){return new Promise((t,r)=>{n.BrowserAPI.storage.local.get(e,e=>{var i;if(e)t(e);else{const e=null==(i=n.BrowserAPI.runtime)?void 0:i.lastError;e?r(e):t(null)}})})}set(e,t){return new Promise((r,i)=>{n.BrowserAPI.storage.local.set({[e]:t},()=>{var e;const t=null==(e=n.BrowserAPI.runtime)?void 0:e.lastError;t?i(t):r()})})}remove(e){return new Promise((t,r)=>{let i=0;e.forEach(s=>{n.BrowserAPI.storage.local.remove(s,()=>{var s;const o=null==(s=n.BrowserAPI.runtime)?void 0:s.lastError;o?r(o):++i==e.length&&t()})})})}}},function(e,t){const r=["Chrome","Opera","Edge","SamsungBrowser","YaBrowser"],n=["Firefox","Safari","MSIE"];e.exports.BrowserAPI=(()=>{for(const e of r)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?chrome:(()=>{for(const e of n)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?browser:{}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(6);var i=r(8),s=r(21);const o=class extends class entity_Entity{async load(){const e=[...this.getLegacyKeys(),this.getKey()].filter(e=>void 0!==e);if(!e)return this;const t=await n.a.getAll(...e);return t?(this.getLegacyKeys().filter(e=>e in t).forEach(e=>{this.mergeObject(t[e])}),this.getKey()in t&&this.mergeObject(t[this.getKey()]),(!this.v||this.v<this.getVersion())&&(await this.migrate(this.v?this.v:0),this.save()),this):this}async save(){const e=Object.assign({},this.toDTO(),{v:this.getVersion()});return n.a.set(this.getKey(),e)}mergeObject(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}{constructor(e){super(),this.feature=e,this.state=0,this.startTime=-1,this.lastDisplayed=-1,this.doNotShowAgain=!1,this.lastDisplayedPromo=-1,this.daysLeft=e.TrialDays}async loadAndUpdate(){return await super.load(),await this.updateState(),this}async getDaysLeft(){return this.feature.TrialDays-Object(i.c)(this.startTime)}daysSinceDisplayedHook(){const e=Date.now(),t=this.lastDisplayed<0?e:this.lastDisplayed;return Object(i.h)(e-t)}daysSinceDisplayedPromo(){const e=Date.now(),t=this.lastDisplayedPromo<0?e:this.lastDisplayedPromo;return Object(i.h)(e-t)}daysSinceStarted(){const e=Date.now(),t=this.startTime<0?e:this.startTime;return Object(i.h)(e-t)}isTrialActive(){return 1===this.state}isTrialEnded(){return 2===this.state}isTrialStarted(){return this.isTrialActive()&&!this.isTrialEnded()}isTrialPending(){return 0===this.state}async updateState(){if(!this.isTrialActive()||this.daysLeft<=0)return;this.isTrialActive()?this.state=1:this.isTrialEnded()&&(this.state=2);const e=this.daysLeft,t=Object(i.c)(this.startTime);this.daysLeft=this.feature.TrialDays-t;let r=!1;e!==this.daysLeft&&(r=!0),this.daysLeft<=0&&(this.endTrial(),r=!0),r&&this.save()}async enable(){return this.isTrialActive()||this.isTrialEnded()||(this.startTime=Date.now(),this.state=1,this.lastDisplayed=0,await this.save()),this}async endTrial(){return this.isTrialEnded()||!this.isTrialActive()||(this.daysLeft=0,this.state=2,this.doNotShowAgain=!1,await this.save(),await s.a.setFeatureEnabled(this.feature,!1)),this}toDTO(){return{startTime:this.startTime,daysLeft:this.daysLeft,lastDisplayed:this.lastDisplayed,state:this.state,doNotShowAgain:this.doNotShowAgain,lastDisplayedPromo:this.lastDisplayedPromo}}getKey(){return this.feature.TrialKey}getLegacyKeys(){const e=[];return e.push(this.feature.LegacyTrialKey),e}getVersion(){return 2}async migrate(e){if(0===e){const e=this;if("active"in e){const t=Object(i.c)(this.startTime)>=this.feature.TrialDays;this.state=t?2:e.active?1:0}}}};let a=o;a.getDefault=e=>new o(e)},function(e,t,r){"use strict";r.d(t,"a",(function(){return getOrInitAnalyticsInfoFromLocalStorage})),r.d(t,"b",(function(){return sendAliveAnalyticsEvent})),r.d(t,"c",(function(){return sendAnalyticsEvent}));var n=r(53),i=r(0),s=r(30),o=r(4),a=r(17),c=r(37),l=Object.defineProperty,u=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&__defNormalProp(e,r,t[r]);if(u)for(var r of u(t))_.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const getAnalyticsInfoFromLocalStorage=async()=>new Promise(e=>{chrome.storage.local.get(i.d.ANALYTICS_INFO_KEY,t=>{e(t[i.d.ANALYTICS_INFO_KEY])})});function getLocale(){const e=chrome.i18n.getUILanguage().replace("_","-");return e.length<7?e:"en-US"}const getOrInitAnalyticsInfoFromLocalStorage=async()=>{if(!await getAnalyticsInfoFromLocalStorage()){const e="CH"==Object(o.k)()?"Chrome":"Firefox",t=await(async()=>{let e,t;try{const r=await fetch(i.f.ANALYTIC_INFO);200===r.status&&(e=await r.json()),t=e&&e.uuid||Object(n.a)(),await fetch(i.f.ANALYTIC_INFO,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:t})})}catch(e){}return t})();await Object(a.e)(),chrome.storage.local.set({[i.d.ANALYTICS_INFO_KEY]:{uuid:t,country:getLocale(),resource:i.d.ANALYTICS_RESOURCE_TYPES.ORGANIC,user_agent:e}})}return await getAnalyticsInfoFromLocalStorage()},addVersionToEventPayload=e=>{const{version:t}=Object(o.r)();return((e,t)=>{let r={};e.payload&&(r=JSON.parse(e.payload));const n=Object.assign(r,t);return e.payload=JSON.stringify(n),e})(e,{version:t})},sendAnalyticsEvent=async(e,t)=>{const r=await getOrInitAnalyticsInfoFromLocalStorage(),n=await Object(a.c)(),o=!(!n||!n.id);let l=t||{};l=addVersionToEventPayload(l);const u=__spreadValues(__spreadValues({event_type:e,platform:i.d.ANALYTICS_PLATFORM,product:i.d.ANALYTICS_PRODUCT,timestamp:(new Date).getTime(),is_logged_in:o,is_pro_user:n&&n.isPremium},r),l);Object(c.a)(e);try{await fetch(i.f.ANALYTICS_SEND_EVENT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((E=u,{ev:s.Buffer.from(Array.from(JSON.stringify(E)).map((e,t)=>e.charCodeAt(0)-(E.uuid.length+2*t)).toString()).toString("base64"),se:E.uuid}))})}catch(e){}var E},sendAliveAnalyticsEvent=async()=>{chrome.storage.local.get([i.h.LAST_ALIVE_EVENT_SENT_AT,i.h.WHITELIST],async e=>{const t=e[i.h.LAST_ALIVE_EVENT_SENT_AT]||0,r=e[i.h.WHITELIST]||[],n=Date.now(),s=n-t>=i.y,o=r&&r.length||0;s&&(await sendAnalyticsEvent(i.d.ANALYTICS_EVENT_TYPES.ALIVE,{payload:JSON.stringify({whiteListSize:o})}),chrome.storage.local.set({[i.h.LAST_ALIVE_EVENT_SENT_AT]:n}))})}},function(e,t,r){"use strict";var n=r(5),i=r(0),s=r(12),o=r(19),a=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&__defNormalProp(e,r,t[r]);if(c)for(var r of c(t))u.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class SettingsHelper{constructor(){this.setFeatureEnabled=async(e,t,r=!0)=>{let i=t;if(i&&Object(n.e)(e)){const t=await o.a.isPremiumFeatureAvailable(e);i=i&&t}const s={};return s[e.SettingsKey]=i,r&&await this.updateSettings(s),s},this.setFeaturesEnabled=async(e,t)=>{let r={};for(const n of e){const e=await this.setFeatureEnabled(n,t,!1);r=__spreadValues(__spreadValues({},r),e)}await this.updateSettings(r)},this.isFeatureEnabled=async e=>{const t=await s.a.get(i.h.SETTINGS);return!(!t||!(e.SettingsKey in t))&&t[e.SettingsKey]},this.updateSettings=async e=>{const t=await s.a.get(i.h.SETTINGS),r=__spreadValues(__spreadValues({},t),e);await s.a.set(i.h.SETTINGS,r)}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return fetchWithTokenRefreshIfNeeded})),r.d(t,"b",(function(){return getUser})),r.d(t,"e",(function(){return updateUserInfo})),r.d(t,"d",(function(){return logout})),r.d(t,"c",(function(){return getUserInfo}));var n=r(0),i=r(6);const fetchWithTokenRefreshIfNeeded=async(e,t,r)=>{const i=await fetch(e,t);if(i.status===r)return i;if(401===i.status){if(204===(await fetch(n.f.REFRESH,{method:"POST",headers:{"Content-Type":"application/json"}})).status){const n=await fetch(e,t);if(n.status===r)return n}return{status:i.status,message:i.statusText}}},getUser=async()=>{try{const e=await fetchWithTokenRefreshIfNeeded(n.f.GET_USER,{},200);if(200===e.status){const t=await e.json();await i.a.set(n.h.USER,t.user),await i.a.set(n.h.LAST_USER_UPDATE_DATE,Date.now())}else await i.a.remove([n.h.USER,n.h.LAST_USER_UPDATE_DATE])}catch(e){await i.a.remove([n.h.USER,n.h.LAST_USER_UPDATE_DATE])}},updateUserInfo=async()=>{const e=await i.a.get(n.h.LAST_USER_UPDATE_DATE);e&&Date.now()-e>=n.M&&await getUser()},logout=async()=>200===(await fetch(n.f.LOGOUT)).status&&(await i.a.remove([n.h.USER,n.h.LAST_USER_UPDATE_DATE]),!0),getUserInfo=()=>i.a.get(n.h.USER)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=(e=>(e.Anonymous="anonymous",e.Free="free",e.Premium="premium",e))(n||{})},function(e,t,r){"use strict";var n=r(0),i=r(4),s=r(5),o=r(9),a=r(16),c=Object.defineProperty,l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))E.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class PremiumManager{constructor(){this.isPremiumFeatureAvailable=async e=>{const t=await o.b.getDefault(e).load();return await Object(i.B)()||e.HasTrial&&t.isTrialActive()},this.clearTrials=async()=>{for(const e of Object(s.c)())await o.b.getDefault(e).save()}}async startTrialFeature(e){const t=await o.b.getDefault(e).loadAndUpdate();await t.enable(),await a.a.setFeatureEnabled(e,!0),await this.updatePromoDisplayTime(e),this.reportStartTrialAnalytics(e)}reportStartTrialAnalytics(e){Object(i.L)({name:n.v.SEND_ANALYTICS_EVENT,eventType:n.d.ANALYTICS_EVENT_TYPES.START_TRIAL,eventPayload:{payload:JSON.stringify({feature:e.Name})}})}async shouldShowDailyPromo(e){const t=await o.b.getDefault(e).loadAndUpdate();return t.isTrialStarted()&&!t.isTrialEnded()&&t.daysSinceDisplayedPromo()>=1}async shouldShowEndPromo(e){const t=await o.b.getDefault(e).loadAndUpdate(),r=t.startTime+e.TrialDays*n.y,i=t.lastDisplayedPromo>r;return t.isTrialEnded()&&!i}async updateHookDisplayTime(e){const t=await o.b.getDefault(e).loadAndUpdate();t.lastDisplayed=Date.now(),await t.save()}async updatePromoDisplayTime(e){const t=await o.b.getDefault(e).loadAndUpdate();t.lastDisplayedPromo=Date.now(),await t.save()}async showTrialPromoIfNeeded(e,t){if(await Object(i.B)())return;const r=await this.shouldShowDailyPromo(e)&&e.ShowDailyPromo,s=await this.shouldShowEndPromo(e),o=t||{};o.isShowDailyPromo=r,o.isShowEndPromo=s,(r||s)&&Object(i.a)(()=>{Object(i.M)(n.v.SHOW_TRIAL_PROMO,{feature:e,extras:o}),this.updatePromoDisplayTime(e)},()=>Object(i.N)({name:n.v.SHOW_TRIAL_PROMO,data:{feature:e,extras:o}}))}async getFeaturesTrialState(){let e;for(const t of Object(s.c)()){const r=await o.b.getDefault(t).loadAndUpdate(),n=await r.getDaysLeft();e=__spreadValues({[t.Name]:{TrialState:r.state,TrialLeftDays:n}},e)}return e}async migrateToSingleTrialEntity(e){const t=(await Promise.all(e.map(async e=>await o.b.getDefault(e).loadAndUpdate()))).filter(e=>e.isTrialActive()).sort((e,t)=>t.startTime-e.startTime);t&&await t[0].save()}}},,function(e,t,r){"use strict";var n=r(11),i=r(2),s=r(6),o=r(31),a=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&__defNormalProp(e,r,t[r]);if(c)for(var r of c(t))u.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class SettingsHelper{constructor(){this.setFeatureEnabled=async(e,t,r=!0)=>{let i=t;if(i&&Object(n.c)(e)){const t=await o.a.isPremiumFeatureAvailable(e);i=i&&t}const s={};return s[e.SettingsKey]=i,r&&await this.updateSettings(s),s},this.setFeaturesEnabled=async(e,t)=>{let r={};for(const n of e){const e=await this.setFeatureEnabled(n,t,!1);r=__spreadValues(__spreadValues({},r),e)}await this.updateSettings(r)},this.isFeatureEnabled=async e=>{const t=await s.a.get(i.g.SETTINGS);return!(!t||!(e.SettingsKey in t))&&t[e.SettingsKey]},this.updateSettings=async e=>{const t=await s.a.get(i.g.SETTINGS),r=__spreadValues(__spreadValues({},t),e);await s.a.set(i.g.SETTINGS,r)}}}},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return Entity}));var n=r(12);class Entity{async load(){const e=[...this.getLegacyKeys(),this.getKey()].filter(e=>void 0!==e);if(!e)return this;const t=await n.a.getAll(...e);return t?(this.getLegacyKeys().filter(e=>e in t).forEach(e=>{this.mergeObject(t[e])}),this.getKey()in t&&this.mergeObject(t[this.getKey()]),(!this.v||this.v<this.getVersion())&&(await this.migrate(this.v?this.v:0),this.save()),this):this}async save(){const e=Object.assign({},this.toDTO(),{v:this.getVersion()});return n.a.set(this.getKey(),e)}mergeObject(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}},,,function(e,t,r){"use strict";r.d(t,"h",(function(){return getPrivacyPolicy})),r.d(t,"j",(function(){return getTabUrl})),r.d(t,"c",(function(){return executeCode})),r.d(t,"l",(function(){return isGoogleDomain})),r.d(t,"m",(function(){return randId})),r.d(t,"a",(function(){return GUID})),r.d(t,"b",(function(){return copyTextToClipboard})),r.d(t,"e",(function(){return getBrowser})),r.d(t,"i",(function(){return getRandomInt})),r.d(t,"d",(function(){return getAbsoluteURL})),r.d(t,"f",(function(){return getI18N})),r.d(t,"k",(function(){return insertElementAfterElement})),r.d(t,"g",(function(){return getParentByLevel}));var n=r(29),i=r(0);function getPrivacyPolicy(e=null){const t=n.a["privacy_policy_"+getBrowser()];return e?e.replace(/%s/,t):t}function getTabUrl(){return new Promise(e=>{chrome.runtime.sendMessage({name:"requestTabUrl"},t=>{try{let r=new URL(t.url);e({domain:r.hostname,href:r.href})}catch(t){e({domain:document.domain,href:location.href})}})})}function executeCode(e){let t=document.createElement("script");t.textContent=e,insertBeforeRoot(t),t.remove()}function isGoogleDomain(e){return new RegExp(".*google..*").test(e)}const getRandId=async()=>new Promise(e=>{chrome.storage.local.get(i.h.RDID,t=>{e(t[i.h.RDID])})});async function randId(){if(!await getRandId()){var rr=function(){return(65536*(1+Math.random(Date.now()+14))|0).toString(28).substring(1)};const e=rr()+rr()+rr()+rr()+rr()+rr()+rr()+rr()+rr();chrome.storage.local.set({[i.h.RDID]:e})}return await getRandId()}function GUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function copyTextToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}function getBrowser(){return/firefox/i.test(navigator.userAgent)?"FF":"CH"}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function getAbsoluteURL(e){return/^about:blank/i.test(e)||/^(https?:)?\/\//.test(e)?e:e=location.origin+(/^\//.test(e)?"":"/")+e}function getI18N(e,t){return chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e}function insertBeforeRoot(e){const t=document.head;if(t)t.appendChild(e);else{const t=document.documentElement;t.insertBefore(e,t.firstChild)}}const insertElementAfterElement=(e,t)=>{t.parentNode.insertBefore(e,t.nextSibling)},getParentByLevel=(e,t)=>{let r=e;for(let e=t;e>0;e--){if(!r)return r;r=r.parentNode}return r}},function(e,t,r){"use strict";t.a={thank_you_page_CH:"https://poperblocker.com/welcome",thank_you_page_FF:"https://poperblocker.com/welcome-firefox",privacy_policy_CH:"https://poperblocker.com/privacy/",privacy_policy_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",uninstall_page_CH:"https://poperblocker.com/uninstall/?",uninstall_page_FF:"https://poperblocker.com/uninstall-firefox/?",feedback_page:"https://poperblocker.com/feedback.html?from=ext",contact_page:"https://poperblocker.com/contact-form.html",appStore_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",appStore_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",extension_review_page_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche/reviews",extension_review_page_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",twitter_share_link:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",facebook_share_link:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below",facebook_base_url:"www.facebook.com",overlay_check_API:"https://api2.poperblocker.com/view/update",overlay_blocking_context_item_contexts:["page","frame","selection","link","editable","image","video","audio"],googleSheetID:"1dRQsmt6DYMXGo3YeTQ442kV-xxG1LJfG41wEUpnWefM",dataSettings:{strKeys:["ga_allEvent_rate","ni"],arrKeys:["blacklist","whitelist"]},blockCountsToShowRate:5,blockCountsToShowRateAgain:100,totalBlockingFeatures:2,blockedTypes:{win:"win",tab:"tab",overlay:"overlay",ad:"ad",cookie:"cookie",fbAd:"fbAd",linkedinAd:"linkedinAd",twitterAd:"twitterAd",tracker:"tracker",instagramAd:"instagramAd"},defaultBlackList:["adrunnr","successforyu.clickfunnels.com","fmovies.se","in-365-tagen.info","5000-settimanale.com","shop.mazzugioielli.com","maxigossip.com","lp.yazizim.com","beyourxfriend.com","99tab.com","zzqrt.com","canuck-method.net","bewomenly.com","playnow.guru","datingforyou-48e1.kxcdn.com","trafficnetworkads24.com","sistemadedinerogratis.com","canuckmethodprofit.co","consumerresearchnetwork.com","securemacfix.com","zz3d3.ru","zd1.quebec-bin.com","hot-games4you.xyz","om.elvenar.com","superpccleanup.com","gomediaz.com","judithi.xyz","free.atozmanuals.com","yoursuccess.ravpage.co.il","123hop.ir","quizcliente.pw","aussiemethod.biz","hlpnowp-c.com","picbumper.com","shaneless.com","anacondamonster.com","altrk1.com","health.todaydiets.com","download.weatherblink.com","happyluketh.com","go.ameinfo.com","50kaweek.net","thepornsurvey.com","ofsiite.ru","fulltab.com","1000spins.com","time2play-online.net","vintacars.com","welcome.pussysaga.com","free-desktop-games.com","download.televisionfanatic.com","theprofitsmaker.net","sgad.info","algocashmaster.net","sunmaker.com","topvipdreams.com","watchmygirlfriend.gfpornvideos.com","filesharefanatic.com","safedownloadhub.com","7awlalalam.blogspot.com","tvplusnewtab.com","trendingpatrol.com","moneymorning.com","ifileyou.com","classifiedcanada.ca","firefan.com","methode-binaire.com","letmetell.com","kenduktur.com","getafuk.com","yotraleplahnte.ru","jackpot.88beto.com","pwwysydh.com","search.queryrouter.com","v.lvztxy.com","pussysaga.com","saffamethod.com","prezzonline.com","searchprivacy.website","3d2819216eb4e1035879-7c248de0c99745406e9b749fc86ec3e4.ssl.cf1.rackcdn.com","only2date.com","mysagagame.com","themillionaireinpjs.net","wlt.kd2244.com","quickprivacycheck.com","hotchatdate.com","autotraderbot.com","z1.zedo.com","youlucky2014.com","traffic.getmyads.com","appcloudprotected.com","safensecure.com-allsites3.xyz","newpoptab.com","static.williamhill.com","myhealthyblog.co","greatestmobideals.com","sweetclarity.com","mgid.com","securepccure.com","autopengebygger.com","am15.net","es.reimageplus.com","o2.promos-info.com","it.reimageplus.com","westsluts.com","spinandwin.com-ser.pw","reimageplus.com","vodafone.promos-info.com","vinnmatpengar.se","movie.ienjoyapps.com","love4single.com","origin.getprice.com.au","ohmydating.com","lp.want-to-win.com","yabuletchrome.ru","bamdad.net","gotositenow.com","vcrypt.pw","newtabtv.com","mon.setsu.xyz","youforgottorenewyourhosting.com","zone-telechargement.ws","land.pckeeper.software","ad.adpop-1.com","advancedpctools.com","videos.randolphcountyheraldtribune.com","web-start.org","softreadynow.installupgradenowfreshandforyou.website","uplod.ws","pornhubcasino.com","maxbet.ro","2016prizefeed.com","thevideo.me","wantubad.com","tavanero.com","xcusmy.club","daclips.in","gaymenofporn.online","jackpotcitycasino.com","italian-method.com","getsearchincognito.com","youjustwonprize.com","finanz-nachrichten.me","quizcliente.site","da.reimageplus.com","jkanime.net","britmoneymethod.com","uae.souq.com","ka.azzer.net","safensecure.xyz","8t.hootingrhejkz.online","www6.blinkx.com","wizzcaster.com","comparaison-prix.com","vodlocker.lol","fr.reimageplus.com","free.fromdoctopdf.com","userscloud.com","myprivatesearch.com","fanli90.cn","tutticodicisconto.it","mediadec.com","gogamego.thewhizproducts.com","download.weatherblink.com","free.videodownloadconverter.com","we-are-gamers.com","sesso.communityadult.net","lp.blpmovies.com","search.queryrouter.com","bbb-johannesburg.localspecific.com","lp.blpmovies.com","go.ppixelm.com","r0.ru","sesso.communityadult.net","bbb-johannesburg.localspecific.com","ppixelm.com","cyberguardianspe.info","we-are-gamers.com","loginfaster.com/new","www.alfacart.com","www.foresee.com","mobile-win.com","www.plusnetwork.com","www.amicafarmacia.com","www.ienjoyapps.com","cheapcheap.io","screenaddict.thewhizproducts.com","nova.rambler.ru","free.gamingwonderland.com","p9328ujeiw1.ru","mobilecasinoclub.co.uk","pfhsystem.com","regtuneup.com","theprofitsmaker.net","bodogpromotions.eu","heroesreplay.org","financialsecrets.info","mymoneymakingapp.com","sunmaker.com","888casino-promotions.com","vogliosesso.com","scienceremix.com","allinonedocs.com","arabia.starzplay.com","allirishcasino.com","advancepctools.info","movie.ienjoyapps.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","b2.ijquery11.com","sporthero.thewhizmarketing.com","securefastmac.tech","seen-on-screen.thewhizmarketing.com","1000spins.com","search.queryrouter.com","pfhsystem.com","reimageplus.com","offer.alibaba.com","searchlistings.org","search.queryrouter.com","search.queryrouter.com","mybinaryoptionsrobot.com","duplicashapp.com","search.queryrouter.com","bestgame.directory","droidclub.net",".rivalo.com","yoursuperprize.com","mediaexplained.com","om.elvenar.com","shinar.club","revitoleczemacream.com","freelotto.com","screenaddict.thewhizproducts.com","download.bringmesports.com/","allinonedocs.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","multtaepyo.com","search.queryrouter.com","czechmethod.com","consumerview.co","wayretail.com","72onbase.com","funsafetab.com","search.queryrouter.com","speedyfiledownload.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","quantomcoding.com","sporthero.thewhizmarketing.com","popads.net","onclkds.com","consumerview.co","12kotov.ru","ruhotpair2.fingta.com","easytelevisionaccessnow.com","ahwrd.com","lpeva.com","ppgzf.com","zjstx.com","kituure.xyz","join.pro-gaming-world.com","mackeeperapp.mackeeper.com","tracknotify.com","2075.cdn.beyondhosting.net","idollash.com","ds.moviegoat.com","fulltab.com","rackcdn.com","prestoris.com","adsterra.com","swampssovuuhusp.top","streesusa.info","freesoftwaredlul.com","adreactor.com","a-static.com","codeonclick.com","heheme.com","adf.ly","seen-on-screen.thewhizmarketing.com","openload.co"]}},function(e,t,r){"use strict";(function(e){var n=r(49),i=r(50),s=r(51);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,r,n):"string"==typeof t?function fromString(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),i=(e=createBuffer(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&s(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(s=r;s<a;s++)if(read(e,s)===read(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var u=!0,E=0;E<c;E++)if(read(e,s+E)!==read(t,E)){u=!1;break}if(u)return s}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function utf16leToBytes(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,c,l=e[i],u=null,E=l>239?4:l>223?3:l>191?2:1;if(i+E<=r)switch(E){case 1:l<128&&(u=l);break;case 2:128==(192&(s=e[i+1]))&&(c=(31&l)<<6|63&s)>127&&(u=c);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(c=(15&l)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,E=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=E}return function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Buffer.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare2(e,t,r,n,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r),u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=toHex(e[s]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,s){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,s){return s||checkIEEE754(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,s){return s||checkIEEE754(e,0,r,8),i.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function slice(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},Buffer.prototype.fill=function fill(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),a=o.length;for(s=0;s<r-t;++s)this[s+t]=o[s%a]}return this};var o=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function base64ToBytes(e){return n.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(o,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(41))},function(e,t,r){"use strict";var n=r(2),i=r(8),s=r(11),o=r(14),a=r(21),c=Object.defineProperty,l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))E.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class PremiumManager{constructor(){this.isPremiumFeatureAvailable=async e=>{const t=await o.a.getDefault(e).load();return await Object(i.g)()||e.HasTrial&&t.isTrialActive()},this.clearTrials=async()=>{for(const e of Object(s.b)())await o.a.getDefault(e).save()}}async startTrialFeature(e){const t=await o.a.getDefault(e).loadAndUpdate();await t.enable(),await a.a.setFeatureEnabled(e,!0),await this.updatePromoDisplayTime(e),this.reportStartTrialAnalytics(e)}reportStartTrialAnalytics(e){Object(i.j)({name:n.p.SEND_ANALYTICS_EVENT,eventType:n.c.ANALYTICS_EVENT_TYPES.START_TRIAL,eventPayload:{payload:JSON.stringify({feature:e.Name})}})}async shouldShowDailyPromo(e){const t=await o.a.getDefault(e).loadAndUpdate();return t.isTrialStarted()&&!t.isTrialEnded()&&t.daysSinceDisplayedPromo()>=1}async shouldShowEndPromo(e){const t=await o.a.getDefault(e).loadAndUpdate(),r=t.startTime+e.TrialDays*n.q,i=t.lastDisplayedPromo>r;return t.isTrialEnded()&&!i}async updateHookDisplayTime(e){const t=await o.a.getDefault(e).loadAndUpdate();t.lastDisplayed=Date.now(),await t.save()}async updatePromoDisplayTime(e){const t=await o.a.getDefault(e).loadAndUpdate();t.lastDisplayedPromo=Date.now(),await t.save()}async showTrialPromoIfNeeded(e,t){if(await Object(i.g)())return;const r=await this.shouldShowDailyPromo(e)&&e.ShowDailyPromo,s=await this.shouldShowEndPromo(e),o=t||{};o.isShowDailyPromo=r,o.isShowEndPromo=s,(r||s)&&Object(i.a)(()=>{Object(i.k)(n.p.SHOW_TRIAL_PROMO,{feature:e,extras:o}),this.updatePromoDisplayTime(e)},()=>Object(i.l)({name:n.p.SHOW_TRIAL_PROMO,data:{feature:e,extras:o}}))}async getFeaturesTrialState(){let e;for(const t of Object(s.b)()){const r=await o.a.getDefault(t).loadAndUpdate(),n=await r.getDaysLeft();e=__spreadValues({[t.Name]:{TrialState:r.state,TrialLeftDays:n}},e)}return e}async migrateToSingleTrialEntity(e){const t=(await Promise.all(e.map(async e=>await o.a.getDefault(e).loadAndUpdate()))).filter(e=>e.isTrialActive()).sort((e,t)=>t.startTime-e.startTime);t&&await t[0].save()}}},,,,function(e,t,r){"use strict";var n=r(0),i=r(29),s=r(25);class BlockedItemsCounter extends s.a{constructor(){super(...arguments),this.pop=0,this.win=0,this.tab=0,this.overlay=0,this.ad=0,this.cookie=0,this.fbAd=0,this.linkedinAd=0,this.twitterAd=0,this.tracker=0,this.instagramAd=0}getKey(){return n.h.TOTAL_BLOCKS_BY_TYPE}getLegacyKeys(){return[]}toDTO(){return{pop:this.pop,win:this.win,tab:this.tab,overlay:this.overlay,ad:this.ad,cookie:this.cookie,fbAd:this.fbAd,linkedinAd:this.linkedinAd,twitterAd:this.twitterAd,tracker:this.tracker,instagramAd:this.instagramAd}}getVersion(){return 1}migrate(e){}}class BlockedItemsPerTab extends s.a{getKey(){return n.h.TOTAL_BLOCKS_BY_TAB_ID}getLegacyKeys(){return[]}toDTO(){return this}getVersion(){return 1}migrate(e){}}t.a=new class BlockingManager{async getTotalBlocksByType(){return await(new BlockedItemsCounter).load()}async getTotalBlockForKeys(...e){const t=await this.getTotalBlocksByType();let r=0;return e.forEach(e=>{r+=e in t?t[e]:0}),r}async getTotalBlocksPerTab(){return await(new BlockedItemsPerTab).load()}async updateTotalBlocksByTabId(e,t,r,n){const i=await this.getTotalBlocksPerTab();let s=i[e];s&&s.host===t||(s={host:t,lastUpdated:Date.now(),totalCount:0,totalBlocksByType:this.getEmptyBlockList()}),s.totalBlocksByType=this.updateBlockedItemCount(s.totalBlocksByType,r,n),s.lastUpdated=Date.now(),s.totalCount+=n,s.host=t,i[e]=s,await i.save()}async clearTotalBlocksOfTabIdIfNeeded(e,t){if(!e)return;const r=await this.getTotalBlocksPerTab();r[e]&&r[e].host!==t&&delete r[e],r.save()}async clearAllTotalBlocksOfTab(){const e=new BlockedItemsPerTab;await e.save()}getEmptyBlockList(){return{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0}}updateBlockedItemCount(e,t,r){const n=e;return"pop"==t.block?t.args&&t.args[2]&&/(?:(?:width=)|(?:height=))/.test(t.args[2])?n.win=(n.win||0)+1:n.tab=(n.tab||0)+1:void 0!==n[t.block]?n[t.block]=n[t.block]+(r||1):t.block in i.a.blockedTypes?n[t.block]=r||1:console.error("Error: Undefined block type ",t.block),n}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return ga4Event}));var n=r(15),i=r(0),s=Object.defineProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&__defNormalProp(e,r,t[r]);if(o)for(var r of o(t))c.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const b64DecodeUnicode=e=>decodeURIComponent(Array.prototype.map.call(atob(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),ga4Event=async(e,t)=>{const r=b64DecodeUnicode(i.u),s=b64DecodeUnicode(i.g),o=await Object(n.a)();fetch(`https://www.google-analytics.com/mp/collect?measurement_id=${r}&api_secret=${s}`,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({client_id:null==o?void 0:o.uuid,events:[{name:e,params:__spreadValues({},t)}]})})}},,function(e,t,r){"use strict";var n=r(4),i=r(0),s=r(12),o=r(7);t.a=new class FaviconManager{async handleTabBadge(e){let t=[e];e||(t=(await o.BrowserAPI.tabs.query({})).sort(e=>e.active?-1:1)),s.a.getAll(i.h.TOTAL_BLOCKS_BY_TAB_ID,i.h.PAUSED).then(e=>{if(e){const r=e[i.h.TOTAL_BLOCKS_BY_TAB_ID],s=e[i.h.PAUSED];t.forEach(e=>{const t=s?0:Object(n.t)(e.id,r),a=s?i.o.Disabled.BadgeText:(t||"")+"";o.BrowserAPI.action.setBadgeText({text:a,tabId:e.id}),o.BrowserAPI.action.setBadgeBackgroundColor({color:s?i.o.Disabled.BadgeColor:i.o.Enabled.BadgeColor,tabId:e.id})})}})}handleExtensionIconAndBadge(e){this.setIcon(e?i.o.Disabled.Image:i.o.Enabled.Image),this.handleExtensionBadge(e)}handleFaviconState(e){this.handleExtensionIconAndBadge(e),o.BrowserAPI.runtime.sendMessage({name:i.v.UPDATE_TAB_BADGE})}setIcon(e){o.BrowserAPI.action.setIcon({path:e})}handleExtensionBadge(e){o.BrowserAPI.action.setBadgeText({text:e?i.o.Disabled.BadgeText:i.o.Enabled.BadgeText}),o.BrowserAPI.action.setBadgeBackgroundColor({color:e?i.o.Disabled.BadgeColor:i.o.Enabled.BadgeColor})}}},,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(25),i=r(0);const s=class extends n.a{constructor(){super(...arguments),this.shouldBeDisplayed=!0,this.installTime=-1,this.openSettingsPanelNumber=0,this.maybeLaterTime=-1}getLegacyKeys(){return[]}toDTO(){return{shouldBeDisplayed:this.shouldBeDisplayed,installTime:this.installTime,openSettingsPanelNumber:this.openSettingsPanelNumber,maybeLaterTime:this.maybeLaterTime}}getVersion(){return 1}migrate(e){}async countOpenSettingsPanel(){return this.openSettingsPanelNumber++,await this.save(),this}getKey(){return i.h.SPECIAL_OFFER_MODAL}async initIfNeeded(){return-1===this.installTime&&await this.init(),this}isTimeToDisplayModal(){const e=Date.now()-this.installTime-14*i.y>0,t=Date.now()-this.maybeLaterTime-2*i.y>0,r=-1===this.maybeLaterTime&&(e||this.openSettingsPanelNumber>12),n=this.maybeLaterTime>-1&&t;return this.shouldBeDisplayed&&(r||n)}async disable(){return this.shouldBeDisplayed=!1,await this.save(),this}async enable(){return this.shouldBeDisplayed=!0,await this.save(),this}async updateMaybeLaterTime(){return this.maybeLaterTime=Date.now(),await this.save(),this}async init(){return this.installTime=Date.now(),this.shouldBeDisplayed=!0,this.openSettingsPanelNumber=0,this.maybeLaterTime=-1,await this.save(),this}};let o=s;o.getDefault=()=>new s},,,function(e,t,r){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function toByteArray(e){var t,r,n=getLens(e),o=n[0],a=n[1],c=new s(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,o,a)),l=0,u=a>0?o-4:o;for(r=0;r<u;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function fromByteArray(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(encodeChunk(e,o,o+16383>a?a:o+16383));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,E=r?i-1:0,_=r?-1:1,h=e[t+E];for(E+=_,s=h&(1<<-u)-1,h>>=-u,u+=a;u>0;s=256*s+e[t+E],E+=_,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+E],E+=_,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),s-=l}return(h?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,E=u>>1,_=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,O=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+E>=1?_/c:_*Math.pow(2,1-E))*c>=2&&(o++,c/=2),o+E>=u?(a=0,o=u):o+E>=1?(a=(t*c-1)*Math.pow(2,i),o+=E):(a=t*Math.pow(2,E-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&a,h+=O,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+h]=255&o,h+=O,o/=256,l-=8);e[r+h-O]|=128*d}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return isPushNotificationPermissionGranted})),r.d(t,"c",(function(){return setPushNotificationBlocker})),r.d(t,"b",(function(){return requestPushNotificationPermission}));var n=r(0),i=r(4),s=r(15);const isPushNotificationPermissionGranted=async()=>{const e={permissions:[n.C.CONTENT_SETTINGS],origins:[n.C.ALL_URLS]};return await Object(i.A)(e)},setPushNotificationBlocker=e=>{chrome.contentSettings.notifications.set({primaryPattern:n.C.ALL_URLS,setting:e?n.C.BLOCK:n.C.ASK});const t=e?n.d.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_ON:n.d.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_OFF;Object(s.c)(t)},requestPushNotificationPermission=async()=>{const e={permissions:[n.C.CONTENT_SETTINGS],origins:[n.C.ALL_URLS]},t=await Object(i.J)(e),r=t?n.d.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS:n.d.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS;Object(s.c)(r),t&&setPushNotificationBlocker(t)}},function(e,t,r){"use strict";var n,i=new Uint8Array(16);function rng(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=function validate(e){return"string"==typeof e&&s.test(e)},a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var l=function stringify(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};t.a=function v4(e,t,r){var n=(e=e||{}).random||(e.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(25),i=r(0);const s=class extends n.a{constructor(){super(...arguments),this.shouldBeDisplayed=!1}getKey(){return i.h.WHATS_NEW}getLegacyKeys(){return[]}toDTO(){return{shouldBeDisplayed:this.shouldBeDisplayed}}getVersion(){return 1}migrate(e){}async enable(){return this.shouldBeDisplayed=!0,await this.save(),this}async disable(){return this.shouldBeDisplayed=!1,await this.save(),this}getShouldBeDisplayed(){return this.shouldBeDisplayed}};let o=s;o.getDefault=()=>new s},,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(25),i=r(0);const s=class extends n.a{constructor(){super(...arguments),this.isDisplayed=!1,this.installTime=-1}getKey(){return i.h.PIN_TASKBAR_DATA}getLegacyKeys(){return[]}toDTO(){return{isDisplayed:this.isDisplayed,installTime:this.installTime}}getVersion(){return 1}migrate(e){}async setDisplayed(e){return this.isDisplayed=e,await this.save(),this}isTimeToDisplayPromo(){return Date.now()-this.installTime-3*i.B>0&&!this.isDisplayed}async init(){return this.installTime=Date.now(),this.isDisplayed=!1,await this.save(),this}};let o=s;o.getDefault=()=>new s},,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(0);var i=r(4);var s=r(17),o=Object.defineProperty,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&__defNormalProp(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const createChildMenuItem=e=>{chrome.contextMenus.create(e,()=>chrome.runtime.lastError)},createBrowserContextMenu=async e=>{if(e)chrome.contextMenus.removeAll();else{const e=await new Promise(e=>{const t=n.i.PARENT;chrome.contextMenus.create(t,()=>(e(n.i.PARENT.id),chrome.runtime.lastError))});createChildMenuItem(__spreadValues({parentId:e},n.i.OVERLAY)),createChildMenuItem(__spreadValues({parentId:e},n.i.BLOCK_ELEMENT))}};var u=r(15);const insertCookieFilters=async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});var t;(null==e?void 0:e.id)&&await(t=e.id,new Promise(e=>chrome.scripting.insertCSS({target:{tabId:t},files:["common-cookie-filters.css"]},e)))};var E=Object.defineProperty,_=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,promo_coupon_defNormalProp=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,promo_coupon_spreadValues=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&promo_coupon_defNormalProp(e,r,t[r]);if(_)for(var r of _(t))O.call(t,r)&&promo_coupon_defNormalProp(e,r,t[r]);return e};var d=r(37),T=r(19),f=r(52),I=r(39),p=r(14),A=r(54),S=r(5),m=r(62),C=r(46),N=Object.defineProperty,L=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,config_defNormalProp=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,config_spreadValues=(e,t)=>{for(var r in t||(t={}))g.call(t,r)&&config_defNormalProp(e,r,t[r]);if(L)for(var r of L(t))R.call(t,r)&&config_defNormalProp(e,r,t[r]);return e};const y={whitelist:[],doNotShowNotifyList:{},overlayBlockedList:{},lastNotificationDisplay:{},counterBlockedSites:{},totalBlocksByType:{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0},totalBlocksByTabId:{},numOfBlocks:0,counterUnBlockedSites:{},totalUnBlocksByType:{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0},numOfUnBlocks:0,paused:!1,settings:{isOptIn:!1,showBadge:!0,showNotifications:!0,detectOverlays:!1,enableContextMenu:!0,enableSiteExperience:!1,popups:!0,hideElements:!0,cookieCrumbler:!1,facebookAdds:!1,adsBlocker:!1,trackersBlocker:!1,pushNotification:!1},isFirstBlockAdds:!0,rating:{showCount:0,nextDisplay:n.G.AFTER,complete:!1},siteExperience:"clean"};var b=r(28);class AlarmManager{static getInstance(){return void 0===this.instance&&(this.instance=new AlarmManager),this.instance}async createPeriodicAlarm(e,t,r=!1){await this.createIfNeeded(e,{periodInMinutes:t},r)}async createPeriodicAlarmWithDelay(e,t,r=0,n=!1){await this.createIfNeeded(e,{delayInMinutes:r,periodInMinutes:t},n)}async createOneTimeAlarm(e,t,r=!1){await this.createIfNeeded(e,{when:t},r)}async createDelayedAlarm(e,t,r=!1){await this.createIfNeeded(e,{delayInMinutes:t},r)}async clearAlarms(){return new Promise(e=>{chrome.alarms.clearAll(t=>{e(t)})})}async clearAlarm(e){return new Promise(t=>{chrome.alarms.clear(e,e=>{t(e)})})}registerAlarmListener(e){e&&chrome.alarms.onAlarm.addListener(e)}async getAlarm(e){return new Promise(t=>{chrome.alarms.get(e,e=>{t(e)})})}async createIfNeeded(e,t,r=!1){if(await this.getAlarm(e)){if(!r)return;await this.clearAlarm(e)}chrome.alarms.create(e,t)}}var w=AlarmManager;const compareVersion=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw Error("bad version input - must be string");const r=e.split("."),n=t.split("."),i=new Array(r.length),s=new Array(n.length),o=Math.min(r.length,n.length);for(let e=0;e<o;++e){if(i[e]=parseInt(r[e],10),s[e]=parseInt(n[e],10),i[e]>s[e])return 1;if(i[e]<s[e])return-1}return r.length==n.length?0:r.length<n.length?-1:1};var P=r(7),B=r(9),D=r(16),k=(e=>(e.BLOCK="block",e.REDIRECT="redirect",e.ALLOW="allow",e.UPGRADE_SCHEME="upgradeScheme",e.MODIFY_HEADERS="modifyHeaders",e.ALLOW_ALL_REQUESTS="allowAllRequests",e))(k||{}),U=(e=>(e.MAIN_FRAME="main_frame",e.SUB_FRAME="sub_frame",e.STYLESHEET="stylesheet",e.SCRIPT="script",e.IMAGE="image",e.FONT="font",e.OBJECT="object",e.XMLHTTPREQUEST="xmlhttprequest",e.PING="ping",e.CSP_REPORT="csp_report",e.MEDIA="media",e.WEBSOCKET="websocket",e.OTHER="other",e))(U||{});var v=new class api_DNRHelper extends class DeclarativeNetRequest{}{constructor(){super(...arguments),this.updateDynamicRules=async e=>new Promise((t,r)=>{P.BrowserAPI.declarativeNetRequest.updateDynamicRules(e,()=>{var e;const n=null==(e=P.BrowserAPI.runtime)?void 0:e.lastError;n?r(n):t()})}),this.getDynamicRules=async()=>new Promise((e,t)=>{P.BrowserAPI.declarativeNetRequest.getDynamicRules(r=>{var n;const i=null==(n=P.BrowserAPI.runtime)?void 0:n.lastError;i?t(i):e(r)})}),this.onRuleMatchedDebug={addListener(e){P.BrowserAPI.declarativeNetRequest.onRuleMatchedDebug.addListener(e)}}}};class rule_AjaxBlockingRule extends class Rule{constructor(e){this.ruleId=e,this.getRuleId=()=>this.ruleId}getRule(){const e=this.getCondition(),t=this.getInitiatorDomains(),r=this.getExcludedInitiatorDomains();return t&&(e.initiatorDomains=t),r&&(e.excludedInitiatorDomains=r),{id:this.ruleId,priority:1,condition:e,action:{type:this.getAction()}}}}{constructor(e,t,r,n,i){super(e),this.url=t,this.initiatorDomains=r,this.excludedInitiatorDomains=n,this.resourceTypes=i}getCondition(){return{urlFilter:`*${this.url}*`,resourceTypes:this.resourceTypes||[U.SCRIPT,U.XMLHTTPREQUEST]}}getAction(){return k.BLOCK}getInitiatorDomains(){return this.initiatorDomains}getExcludedInitiatorDomains(){return this.excludedInitiatorDomains}}var F=r(12);var M=new class whitelist_WhitelistHelper{list(){return new Promise(e=>{F.a.get(n.h.WHITELIST).then(t=>{e(t||[])})})}add(e){return this.list().then(t=>{t.push(e),F.a.set(n.h.WHITELIST,t)})}remove(e){return this.list().then(t=>{t=t.filter(t=>t!==e),F.a.set(n.h.WHITELIST,t)})}async containsDomain(e){const t=await this.list();return e=Object(i.c)(e),t.some(t=>{t.includes("http")||(t="http://"+t);return new URL(t).hostname===e})}};function sourceToRule(e,t,r,n){return new rule_AjaxBlockingRule(function generateRuleId(e,t){let r=e.length;return Array.from(e).forEach(e=>{r+=e.charCodeAt(0)}),Math.floor(1e4*r+t)}(e.url,t),e.url,e.initiator,r,n)}const K=class{constructor(e,t,r){if(this.uniqueRuleId=e,this.configManager=t,this.dnrWrapper=r,this.blockedDomains=new Set,this.enabled=!1,this.isEnabled=()=>this.enabled,e>9999||e<1e3)throw Error("blocker unique id can only be between 1000 to 9999")}async enable(){if(this.enabled)return;const e=await M.list();await this.loadConfig(e),this.startMonitor(this.onBlockedScriptRequest.bind(this)),this.enabled=!0}async disable(){this.enabled&&(this.stopMonitor(),await this.reset(),this.enabled=!1)}async updateConfig(){await this.configManager.update()&&this.restart()}async restart(){this.isEnabled()&&(await this.disable(),await this.enable())}async loadConfig(e){const t=await this.configManager.get();if(!t)throw new Error("failed getting config");{const r=[];t.providers.map(e=>r.push(...e.sources)),await this.addScripts(r,e,t.resourceTypes)}}startMonitor(e){this.requestListener=t=>{if(t&&t.url&&K.MONITORED_REQ_TYPES.has(t.type))try{if(t.tabId<0)return;if(!this.blockedDomains.has(Object(i.c)(t.url)))return;const{originUrl:r}=t;let{initiator:n}=t;if(n=Object(i.c)(n||r),!n)return;const s={tabId:t.tabId,initiator:n,url:t.url,type:t.type};e&&e(s)}catch(e){console.error("requestListener => "+e)}},this.requestListener=this.requestListener.bind(this),P.BrowserAPI.webRequest.onBeforeRequest.addListener(this.requestListener,{urls:["*://*/*"]})}stopMonitor(){P.BrowserAPI.webRequest.onBeforeRequest.removeListener(this.requestListener)}async addScripts(e,t,r){const n=[...t,"null"],s=[],o=[];this.blockedDomains.clear(),e.forEach(e=>{const t=sourceToRule(e,this.uniqueRuleId,n,r);s.push(t.getRuleId()),o.push(t.getRule()),this.blockedDomains.add(Object(i.c)(t.url))}),await this.dnrWrapper.updateDynamicRules({removeRuleIds:s,addRules:o})}async reset(){const e=(await this.dnrWrapper.getDynamicRules()).map(e=>e.id).filter(e=>function isRelevantId(e,t){const r=e.toString();if(r.length>4){return r.substring(r.length-4,r.length)===t.toString()}return!1}(e,this.uniqueRuleId));await this.dnrWrapper.updateDynamicRules({removeRuleIds:e})}};let G=K;G.MONITORED_REQ_TYPES=new Set([U.SCRIPT]);class config_manager_LocalAndRemoteConfigManager{constructor(e,t){this.remoteUrl=e,this.storageKey=t}async get(){return F.a.get(this.storageKey)}async update(){const e=await this.get(),t=await this.fetchRemoteAndStore();return!!await this.updateConfigIfNeeded(e,t)}async clear(){await F.a.remove([this.storageKey])}async fetchRemoteAndStore(){const e=await fetch(this.remoteUrl,{method:"GET"});return await e.json()}async updateConfigIfNeeded(e,t){let r=0;return e&&(r=e.version),!!(t&&t.version>r)&&(await F.a.set(this.storageKey,t),!0)}}var x=new class ads_blocker_AdsBlocker extends G{constructor(){super(2563,new config_manager_LocalAndRemoteConfigManager(n.f.ADS_BLOCKER_CONFIG,n.b.KEY_CONFIG_STORAGE),v),this.blockedSources=new Map}onBlockedScriptRequest(e){this.tryClearCache();let t={urls:null,lastUpdated:0};const r=Object(i.c)(e.url);if(this.blockedSources.has(e.initiator)){if(t=this.blockedSources.get(e.initiator),t.urls.has(r))return;t.urls.add(r)}else t.urls=new Set([r]);t.lastUpdated=Date.now(),this.blockedSources.set(e.initiator,t),Object(i.P)("ad")}tryClearCache(){const e=Date.now(),t=new Map(this.blockedSources);this.blockedSources.forEach((r,i)=>{e-r.lastUpdated>=n.r&&t.delete(i)}),this.blockedSources=t}};var V=new class trackers_blocker_TrackersBlocker extends G{constructor(){super(2564,new config_manager_LocalAndRemoteConfigManager(n.f.TRACKERS_BLOCKER_CONFIG,n.J.KEY_CONFIG_STORAGE),v)}onBlockedScriptRequest(e){Object(i.P)("tracker")}};var j=new class script_blockers_manager_ScriptBlockersManager{constructor(){this.tryActivateFeature=async(e,t)=>{let r;!await Object(i.B)()&&(r=await B.b.getDefault(e).loadAndUpdate(),r.isTrialPending()||r.isTrialEnded())?await t.disable():await t.enable()},this.tryDeactivateFeature=async e=>{await e.disable()},this.refresh=async()=>{x.isEnabled()&&x.restart(),V.isEnabled()&&V.restart()},this.toggleFeatureState=async(e,t)=>{let r=null;e&&(Object(S.d)(e,S.a.AdsBlocker)?r=x:Object(S.d)(e,S.a.TrackersBlocker)&&(r=V),r&&(t?this.tryActivateFeature(e,r):this.tryDeactivateFeature(r)))},this.onTabChanged=async(e,t)=>{const r=t&&t.status,n=await Object(i.x)();"loading"===r&&(n&&await D.a.isFeatureEnabled(S.a.AdsBlocker)?this.tryActivateFeature(S.a.AdsBlocker,x):this.tryDeactivateFeature(x),n&&await D.a.isFeatureEnabled(S.a.TrackersBlocker)?this.tryActivateFeature(S.a.TrackersBlocker,V):this.tryDeactivateFeature(V))},this.onExtensionStateChanged=async e=>{e?await this.refresh():(await x.disable(),await V.disable())}}},Y=r(35);const W=w.getInstance(),setUninstallURL=e=>{const t="?version="+Object(i.r)().version,r="&block="+e||!1;chrome.runtime.setUninstallURL(`https://app.poperblocker.com/uninstall${t}${r}`)},setOptIn=(e,t)=>chrome.storage.local.get(n.h.SETTINGS,r=>{const i=r[n.h.SETTINGS];i.isOptIn=e,i.detectOverlays=e,chrome.storage.local.set({[n.h.SETTINGS]:i},()=>t&&t())}),performTrialUnificationMigration=async(e,t)=>{if(compareVersion(t,"6.1.0")>=0)return;const r={version_number:e,migration_result:!1};try{await T.a.migrateToSingleTrialEntity(Object(S.c)()),r.migration_result=!0}catch(e){r.migration_result=!1,r.exception=e}Object(u.c)(n.d.ANALYTICS_EVENT_TYPES.EXTENSION_UPGRADE,{payload:JSON.stringify(r)})},initOnExtensionOnInstall=()=>{chrome.runtime.onInstalled.addListener(async e=>{const{reason:t,previousVersion:r}=e,{version:s}=Object(i.r)(),o={payload:JSON.stringify({version_number:s,full_user_agent:navigator.userAgent,reason:t})};await Object(u.a)(),await Object(i.n)(),await(async()=>{const e=await fetch(n.n);if(200===e.status){const t=await e.text();chrome.storage.local.set({[n.h.FONT_STYLE]:t})}})(),"install"===t?(Object(u.c)(n.d.ANALYTICS_EVENT_TYPES.EXTENSION_INSTALL,o),(()=>{chrome.storage.local.set(y);const e=Date.now();p.a.getDefault(S.a.CookieCrumbler).loadAndUpdate().then(e=>{e.lastDisplayed=Date.now()-(n.y+18e5),e.save()}),A.a.getDefault().disable(),m.a.getDefault().init(),C.a.getDefault().init();const t={installTime:e,dontShowAgain:!1},r={installTime:e},i={newUser:!0,lastUpdateTime:e,count:0,cycle:0,coolDown:!1};chrome.storage.local.set({[n.h.RATING_US_MODAL]:t,[n.h.GENERAL_DATA]:r,[n.h.PROMO_COUPON]:i})})(),setUninstallURL(0),createBrowserContextMenu(!1),chrome.tabs.create({url:n.t.WEB_APP+"/welcome"})):"update"===t?(await performTrialUnificationMigration(s,r),createBrowserContextMenu(!1),(async()=>{chrome.storage.local.get(null,async e=>{var t,r,i,s;const o={whitelist:[],numOfBlocks:0,paused:!1,counterBlockedSites:{},settings:y.settings,isFirstBlockAdds:!0,totalBlocksByType:y.totalBlocksByType,totalBlocksByTabId:y.totalBlocksByTabId,numOfUnBlocks:0,counterUnBlockedSites:{},totalUnBlocksByType:y.totalUnBlocksByType};A.a.getDefault().enable();(await C.a.getDefault().load()).initIfNeeded(),chrome.storage.local.set({[n.h.RATING_US_MODAL]:{installTime:Date.now()-n.L,dontShowAgain:!1},[n.h.FIRST_POPUP_BLOCK]:!0}),e.pb_numOfBlocks>=0&&!e.settings?(o.numOfBlocks=e.pb_numOfBlocks,o.settings.isOptIn=e.pb_detectOverlays||"In"===e.isOpted,o.settings.detectOverlays=e.pb_detectOverlays||"In"===e.isOpted,e.pb_totalBlocksByType&&(o.totalBlocksByType={pop:e.pb_totalBlocksByType.pop,win:e.pb_totalBlocksByType.win,tab:e.pb_totalBlocksByType.tab,overlay:e.pb_totalBlocksByType.overlay,ad:e.pb_totalBlocksByType.ad,cookie:e.pb_totalBlocksByType.cookie,fbAd:e.pb_totalBlocksByType.fbAd,twitterAd:e.pb_totalBlocksByType.twitterAd,linkedinAd:e.pb_totalBlocksByType.linkedinAd,instagramAd:e.pb_totalBlocksByType.instagramAd,tracker:e.pb_totalBlocksByType.tracker},o.counterBlockedSites=e.pb_counterBlockedSites),e.pb_whitelistManager&&e.pb_whitelistManager.userWhitelist&&(o.whitelist=e.pb_whitelistManager.userWhitelist||[]),chrome.storage.local.set(config_spreadValues(config_spreadValues({},y),o))):e.pb_numOfBlocks>=0?(e.settings.isOptIn=e.pb_detectOverlays||"In"===e.isOpted,e.settings.popups=void 0===(null==(t=e.settings)?void 0:t.popups)||e.settings.popups,e.settings.hideElements=void 0===(null==(r=e.settings)?void 0:r.hideElements)||e.settings.hideElements,e.settings.detectOverlays=e.pb_detectOverlays||"In"===e.isOpted,chrome.storage.local.set({settings:config_spreadValues({},e.settings)})):(e.settings.popups=void 0===(null==(i=e.settings)?void 0:i.popups)||e.settings.popups,e.settings.hideElements=void 0===(null==(s=e.settings)?void 0:s.hideElements)||e.settings.hideElements,chrome.storage.local.set({settings:config_spreadValues({},e.settings)}))})})()):Object(u.c)(n.d.ANALYTICS_EVENT_TYPES.EXTENSION_INSTALL_GENERAL,o),await Object(i.S)(),chrome.storage.local.get([n.h.PAUSED],({paused:e})=>{I.a.handleFaviconState(e),createBrowserContextMenu(e)}),x.updateConfig()})};var H=r(13),q=Object.defineProperty,X=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,messaging_defNormalProp=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const initListenToInternalMessages=()=>{H.BrowserAPI.runtime.onMessage.addListener((e,t,r)=>{let o={};switch(e.name){case n.v.GA_EVENT:Object(d.a)(e.action),r();break;case n.v.UPDATE_TAB_BADGE:I.a.handleTabBadge(t.tab);break;case n.v.UPDATE_COUNTS:setUninstallURL(e.numOfBlocks);break;case n.v.CREATE_CONTEXT_MENUS:createBrowserContextMenu(e.paused||!1);break;case n.v.SEND_ANALYTICS_EVENT:Object(u.c)(e.eventType,e.eventPayload);break;case n.v.ALLOW_ALWAYS:c=e.domain,l=e.type,chrome.storage.local.get("whitelist",async e=>{const t=[...e.whitelist,c];if(chrome.storage.local.set({whitelist:t}),"popup"===l);else{const e=await Object(i.i)();chrome.tabs.sendMessage(e.id,{name:"allowOverlays"})}});break;case n.v.REQUEST_TAB_URL:H.BrowserAPI.tabs.get(t.tab.id,e=>{o={url:e.url}});break;case n.v.REQUEST_CURRENT_TAB:r(t.tab);break;case n.v.OPEN_URL:H.BrowserAPI.tabs.create({url:e.url});break;case n.v.UPDATE_RATING:((e,t)=>{chrome.storage.local.get("rating",({rating:r})=>{switch(e){case"display":r.showCount++;break;case"click":!r.complete&&r.showCount>=r.nextDisplay&&(chrome.tabs.sendMessage(t.tab.id,{name:"showRateUs"}),r.nextDisplay+=n.G.EVERY);break;case"complete":r.complete=!0}chrome.storage.local.set({rating:r})})})(e.action,t);break;case n.v.UPDATE_USER_INFO:Object(s.e)();break;case n.v.LOGIN:Object(s.b)().then(()=>{Object(i.f)()});break;case n.v.SUBSCRIPTION_SUCCESS:Object(s.b)(),Object(i.e)(),Object(i.L)({name:n.v.UPDATE_REMOTE_SETTINGS});break;case n.v.GET_USER:Object(s.b)();break;case n.v.LOGOUT:Object(i.B)().then(e=>{Object(s.d)().then(t=>{t&&(j.toggleFeatureState(S.a.AdsBlocker,!1),j.toggleFeatureState(S.a.TrackersBlocker,!1),Object(i.E)(e))})});break;case n.v.ADD_UNBLOCK_ALL_ELEMENTS_MENU:createChildMenuItem(((e,t)=>{for(var r in t||(t={}))Q.call(t,r)&&messaging_defNormalProp(e,r,t[r]);if(X)for(var r of X(t))z.call(t,r)&&messaging_defNormalProp(e,r,t[r]);return e})({parentId:n.i.PARENT.id},n.i.UNBLOCK_ALL_ELEMENTS));break;case n.v.REMOVE_UNBLOCK_ALL_ELEMENTS_MENU:a=n.i.UNBLOCK_ALL_ELEMENTS.id,chrome.contextMenus.remove(a,()=>chrome.runtime.lastError);break;case n.v.GET_DEFAULT_WHITELIST:(async()=>{new Promise(e=>{const t=n.h.DEFAULT_WHITELIST_LAST_UPDATE,r=Date.now();chrome.storage.local.get(t,async i=>{if(!i[t]||r-i[t]>=n.y){const i=await fetch(n.f.WHITELIST);if(200===i.status){const s=await i.json();chrome.storage.local.set({[t]:r,[n.h.DEFAULT_WHITELIST]:s},()=>e())}}e()})})})();break;case n.v.GET_POPULAR_SITES_FOR_BLOCK_ELEMENTS:(async()=>{new Promise(e=>{const t=n.h.POPULAR_SITES_FOR_BLOCK_ELEMENTS_LAST_UPDATE,r=Date.now();chrome.storage.local.get(t,async i=>{if(!i[t]||r-i[t]>=n.y){const i=await fetch(n.f.POPULAR_SITES_FOR_BLOCK_ELEMENTS);if(200===i.status){const s=await i.json();chrome.storage.local.set({[t]:r,[n.h.POPULAR_SITES_FOR_BLOCK_ELEMENTS]:s},()=>e())}}e()})})})();break;case n.v.MANUAL_REMOVE_OVERLAY:Object(i.M)(n.v.MANUAL_REMOVE_OVERLAY);break;case n.v.START_BLOCKED_ELEMENTS:Object(i.M)(n.v.START_BLOCKED_ELEMENTS);break;case n.v.INSERT_COOKIE_FILTERS:insertCookieFilters();break;case n.v.OPT_IN_AGREE:setOptIn(!0,i.S);break;case n.v.OPT_IN_DISAGREE:setOptIn(!1,i.S);break;case n.v.SEND_ALIVE_EVENT:Object(u.b)();break;case n.v.UPDATE_SOCIAL_BLOCKER_CONFIG:Object(i.U)();break;case n.v.UPDATE_SEGMENT_DATA:Object(i.T)();break;case n.v.UPDATE_BLOCK_COUNT:Object(i.M)(n.v.UPDATE_BLOCK_COUNT,{type:e.type});break;case n.v.UPDATE_UNBLOCK_COUNT:Object(i.M)(n.v.UPDATE_UNBLOCK_COUNT,{type:e.type});break;case n.v.CHECK_PROMO_MESSAGE:(async e=>{chrome.storage.local.get([n.h.PROMO_COUPON,n.h.GENERAL_DATA,n.h.USER],async t=>{const r=Date.now();let s=t[n.h.PROMO_COUPON];const o=t[n.h.USER];if(null==o?void 0:o.isPremium)return;s||(s={lastUpdateTime:r,count:0,cycle:0,coolDown:!1},chrome.storage.local.set({promoCoupon:s}));let a=!1;if(s.newUser&&(r-(null==s?void 0:s.lastUpdateTime)>n.r&&0===(null==s?void 0:s.count)||(null==s?void 0:s.count)>=1)?(a=!0,s.coolDown=!0):r-(null==s?void 0:s.lastUpdateTime)>n.K?(s.cycle=0,s.count=1,s.coolDown=!1,s.lastUpdateTime=r):s.coolDown&&r-s.lastUpdateTime>n.y&&s.cycle<n.E?(s.count=1,s.coolDown=!1):s.cycle<n.E&&(null==s?void 0:s.count)>=n.F&&!s.coolDown&&(s.coolDown=!0,a=!0),a){const t=await Object(u.a)(),o=await fetch(n.f.PROMO_COUPON,{headers:{id:(null==t?void 0:t.uuid)||"",couponid:"promo"}});if(200===o.status){const t=await o.json();s.lastUpdateTime=r,s.cycle++,s.count=0,s.newUser=!1,(null==t?void 0:t.couponId)&&Object(i.M)(n.v.SHOW_COUPON_MESSAGE,{data:t,delay:e})}}chrome.storage.local.set({[n.h.PROMO_COUPON]:promo_coupon_spreadValues({},s)})})})(e.delay);break;case n.v.INJECT_FONTS:H.BrowserAPI.storage.local.get(n.h.FONT_STYLE,e=>{r({fonts:e})});break;case n.v.FETCH_SETTINGS:Object(i.f)();break;case n.v.UPDATE_REMOTE_SETTINGS:Object(i.S)();break;case n.v.UPDATE_REMOTE_AND_LOCAL_SETTINGS:Object(i.Q)(e.settings);break;case n.v.SHOW_TRIAL_PROMO:if(e&&e.data){const t=e.data;T.a.showTrialPromoIfNeeded(t.feature,t.extras)}break;case n.v.TOGGLE_PUSH_NOTIFICATIONS_BLOCKING:Object(f.c)(e.checked);break;case n.v.EXTENSION_IS_PINNED:return Object(i.b)().then(r),!0;case n.v.UPDATE_SETTINGS:Object(i.R)(e.data);break;case n.v.REQUEST_OPTIONAL_PERMISSIONS:Object(f.b)();break;case n.v.REQUEST_EXTENSION_ID:H.BrowserAPI.management.getSelf(e=>{Object(i.M)(n.v.REQUEST_EXTENSION_ID,{id:e.id,version:e.version})});break;case n.v.UPDATE_SCRIPT_BLOCKERS_STATE:j.refresh();break;case n.v.SETTINGS_CHANGED:j.toggleFeatureState(e.data.feature,e.data.value);break;case n.v.ON_EXTENSION_ENABLED_STATE_UPDATED:j.onExtensionStateChanged(e.data.isEnabled)}var a,c,l;return r(o),!0})};var Z=Object.defineProperty,J=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,service_worker_defNormalProp=(e,t,r)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,service_worker_spreadValues=(e,t)=>{for(var r in t||(t={}))$.call(t,r)&&service_worker_defNormalProp(e,r,t[r]);if(J)for(var r of J(t))ee.call(t,r)&&service_worker_defNormalProp(e,r,t[r]);return e};const te={};initListenToInternalMessages(),H.BrowserAPI.runtime.onMessageExternal.addListener(async(e,t,r)=>{try{switch(e.type){case n.v.REQUEST_TRIAL_STATUS:r(await T.a.getFeaturesTrialState());break;case n.v.EXTENSION_IS_PINNED:r(await Object(i.b)());break;case n.v.EXTENSION_IS_ALLOWED_INCOGNITO:r(await Object(i.v)());break;case n.v.GET_ALL_EXTENSION_PERMISSIONS_GRANTED:r(await Object(i.j)());break;case n.v.LOGOUT:{const e=await Object(i.B)(),t=await Object(s.d)();t&&(j.toggleFeatureState(S.a.AdsBlocker,!1),j.toggleFeatureState(S.a.TrackersBlocker,!1),await Object(i.E)(e)),r(t);break}}}catch(e){}}),W.createPeriodicAlarmWithDelay(n.c.SEGMENT_ALARM,n.x,Object(b.i)(n.A,n.q),!0),W.createPeriodicAlarm(n.c.ADSBLOCKER_ALARM,n.x),W.registerAlarmListener(async e=>{switch(e.name){case n.c.SEGMENT_ALARM:await Object(i.T)();break;case n.c.TRACKERSBLOCKER_ALARM:V.updateConfig();break;case n.c.ADSBLOCKER_ALARM:x.updateConfig()}}),initOnExtensionOnInstall(),chrome.contextMenus.onClicked.addListener(async e=>{const t=await Object(i.y)();switch(e.menuItemId){case n.i.OVERLAY.id:chrome.storage.local.get([n.h.SETTINGS],async({settings:{isOptIn:e}})=>{e?t||Object(i.M)("manual-remove-overlay",{source:"right-click"}):Object(i.M)("overlay-not-active",{source:"right-click"})});break;case n.i.BLOCK_ELEMENT.id:Object(i.M)(n.v.START_BLOCKED_ELEMENTS);break;case n.i.UNBLOCK_ALL_ELEMENTS.id:Object(i.M)(n.v.UNBLOCK_ALL_ELEMENTS)}}),chrome.runtime.onStartup.addListener(async()=>{chrome.storage.local.get([n.h.PAUSED],({paused:e})=>{I.a.handleFaviconState(e),createBrowserContextMenu(e)}),Object(s.e)(),await W.createPeriodicAlarmWithDelay(n.c.SEGMENT_ALARM,n.x,Object(b.i)(0,n.z))}),P.BrowserAPI.tabs.onUpdated.addListener((e,t,r)=>{j.onTabChanged(r,t)}),P.BrowserAPI.tabs.onRemoved.addListener(async(e,t)=>{Y.a.clearTotalBlocksOfTabIdIfNeeded(e,"")}),P.BrowserAPI.windows.onRemoved.addListener(async()=>{await Y.a.clearAllTotalBlocksOfTab()}),te.Rotate=class{static get map(){return"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"}static rotate(e){if(this.isEmpty(e))throw new Error;return this.rot47(JSON.stringify(e))}static rot47(e){let t,r,n,i="",s=this.map.length;for(t=0;t<e.length;t++)n=e.charAt(t),r=this.map.indexOf(n),r>=0&&(n=this.map.charAt((r+s/2)%s)),i+=n;return i}static isEmpty(e){const t=Object.prototype.hasOwnProperty;if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(var r in e)if(t.call(e,r))return!1;return!0}},function qtCL(){self.FrfRC=self.FrfRC||{},FrfRC.Twq={init:function uqdX(e,t){const r=FrfRC.Twq;e=e.class;const n=t.instance;r.class=class Twq{constructor(){this.SfUWu={}}FWVH(e){return!!this.SfUWu[e]}LryL(t){return t?(this.FWVH(t)||(this.SfUWu[t]=new e,this.SfUWu[t].MDsC(t).EZGZ(t)),this.SfUWu[t]):null}FfKa(e){return this.wAlC(e),this.LryL(e)}VlgC(e){const t=this.LryL(e).rUZA();if(!t)return null;const r=this.LryL(t);return r||null}wAlC(e){return delete this.SfUWu[e],this}dovY(e,t){e&&this.SfUWu[e]&&t&&this.SfUWu[e].rtIR(e,t)}uwdX(e){const t=this.SfUWu[e];return!t||!!t.ALTg()&&!t.ZyFt()}prOZ(e,t){const r=this.SfUWu[e];let i={isUrlValid:n.SsQi(t.u),lastPage:t.p,isHh:r.eeEe()};i.isUrlEquals=i.lastPage===t.u,i.isAjax=r.mZcI()&&!i.isUrlEquals;const s=!!i.isUrlValid&&(!(!i.isHh&&i.isUrlEquals)||i.isAjax);return s||this.FfKa(e),s}AYiQ(e,t){return!t||t.active||e.xUJZ()?null:"background_auto_reloading"}},r.instance=new r.class},deps:["JBH","OhU"]}}(),function VATI(){self.FrfRC=self.FrfRC||{},FrfRC.mRx={init:function mBAw(e){const t=FrfRC.mRx,r=e.instance.SsQi;t.class=class mRx{constructor(){this.BaovO={},this.oQkhH=null,this.vAEZT=chrome.tabs}OEYF(){return this.oQkhH&&this.BaovO[this.oQkhH]||""}dYCP(){return this.oQkhH||null}xfmQ(e){return this.BaovO[e]&&(this.oQkhH=e),this}xRqY(e){const t=e&&e.id,n=e.url;return t&&r(n)&&(this.BaovO[t]=n),this}HBWQ(e){return e&&e.id&&e.active&&this.xfmQ(e.id),this}bzXw(e){const t=this.OEYF();return this.xRqY(e),this.HBWQ(e),t}ZrCw(){const e=chrome&&chrome.windows;if(!e)return;this.IGIa(e),e.onFocusChanged.addListener(this.upmg.bind(this)),e.onRemoved.addListener(this.fiCG.bind(this));const t=this.vAEZT.onActivated?"onActivated":"onSelectionChanged";this.vAEZT[t].addListener(this.cTOh.bind(this))}IGIa(e){e.getAll({populate:!0},e=>{for(let t=0;t<e.length;t++)for(let n=0;n<e[t].tabs.length;n++)r(e[t].tabs[n].url)&&(this.xRqY(e[t].tabs[n]),e[t].focused&&e[t].tabs[n].active&&this.xfmQ(e[t].tabs[n].id))})}upmg(e){chrome.windows&&chrome.windows.WINDOW_ID_NONE!=e&&this.vAEZT.query({windowId:e,active:!0},e=>{e&&e[0]&&e[0].active&&this.xfmQ(e[0].id)})}fiCG(){this.vAEZT.query({active:!0},e=>{e&&e[0]&&this.xfmQ(e[0].id)})}cTOh(e){this.xfmQ(e.tabId)}},t.instance=new t.class,t.instance.ZrCw()},deps:["OhU"]}}(),function qdwN(){self.FrfRC=self.FrfRC||{},FrfRC.qqR={init:function LuNh(e,t,r,n){const i=FrfRC.qqR,s=r.instance,o=t.instance,a=n.instance,c=e.instance;i.class=class qqR{constructor(){this.nFGMH=chrome.tabs}MiBC(){this.JbfSX=this.Ceem.bind(this),this.WmgBG=this.TCSg.bind(this),this.qKymC=this.urwy.bind(this),this.tbtKA=this.Djej.bind(this),this.nFGMH.onUpdated.addListener(this.qKymC),this.nFGMH.onReplaced.addListener(this.WmgBG),this.nFGMH.onRemoved.addListener(this.tbtKA),this.nFGMH.onCreated.addListener(this.JbfSX)}Ceem(e){if(!e||!e.url)return;s.LryL(e.id).AMhB().bYUQ(!1);const t=e.openerTabId||o.dYCP();e.url.length&&s.FWVH(t)&&e.url===s.LryL(t).ykwb()?s.LryL(e.id).Ffng("duplication"):e.url.length&&c.SsQi(e.url)&&this.nFGMH.query({url:e.url},(function(t){(t||[]).length>1&&s.LryL(e.id).Ffng(["duplication","background_duplication"])})),"complete"!==e.status||e.openerTabId||s.LryL(e.id).Ffng("reopening"),s.LryL(e.id).NZjT(t),self.dispatchEvent(new CustomEvent("upph",{detail:{tabId:e.id,openerId:t}}))}urwy(e,t,r){if(t&&"complete"===t.status){const t=s.LryL(e);t.ZyFt()&&t.mZcI()&&t.vcPN(void 0).VXac(!1).FsyL(!1),t.ykwb()!==r.url&&t.VXac(!1),t.ADXx(void 0).FsyL().olCV("ajax"),a.OjpE(e),t.bYUQ(!1)}setTimeout(()=>{chrome.tabs.sendMessage(e,{message:"pageUrlChanged",url:t.url},()=>chrome.runtime.lastError)},10)}TCSg(e,t){s.LryL(e).bYUQ().MDsC([e,t]),a.OjpE(e)}Djej(e){s.wAlC(e)}},i.instance=new i.class,i.instance.MiBC()},deps:["OhU","mRx","Twq","AyA"]}}(),function mtzG(){self.FrfRC=self.FrfRC||{},FrfRC.xpR={init:function zSbW(){FrfRC.xpR.class=class xpR{constructor(e,t){this.FVIH(e),this.CWgp(t),this.kEuhu=""}get uPuLD(){return this.CrngU}FVIH(e){return this.CrngU=e,this}get TQJgn(){return this.hyeCb}set TQJgn(e){this.hyeCb=e}CWgp(e){return this.hyeCb=e,this}get kEuhu(){return this.TgvOm}set kEuhu(e){this.TgvOm=e}get ufERn(){return this.IqJZF}set ufERn(e){this.IqJZF=e}get EtQie(){return this.uJbHf}set EtQie(e){this.uJbHf=e}xZnf(){return this.kEuhu}GlYe(e,t){t=t||0;var r=e;try{r=decodeURIComponent(e)}catch(e){return{decoded:r,decodedTimes:t}}return r.length<e.length?this.GlYe(r,++t):{decoded:r,decodedTimes:t}}QHmg(){}}}}}(),function rPtE(){self.FrfRC=self.FrfRC||{},FrfRC.VNm={init:function oMeN(){const e=FrfRC.VNm;async function UhWW(e){const t=function fvyX(e){e=e.replace(/\r\n/g,"\n");const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t[t.length]=n:n>127&&n<2048?(t[t.length]=n>>6|192,t[t.length]=63&n|128):(t[t.length]=n>>12|224,t[t.length]=n>>6&63|128,t[t.length]=63&n|128)}return new Uint8Array(t).buffer}(e);return function SIhh(e){let t,r,n,i=new DataView(e),s="";for(t=0,r=i.byteLength;t<r;t+=1)n=i.getUint8(t).toString(16),n.length<2&&(n="0"+n),s+=n;return s}(await crypto.subtle.digest("SHA-256",t))}e.class=class VNm{async TYPb(e){e=function TrAI(e){return e+"21"*Math.PI}(e+="");return await UhWW(e)}},e.instance=new e.class}}}(),function NCji(){self.FrfRC=self.FrfRC||{},FrfRC.myU={init:function gJJz(e,t){const r=FrfRC.myU,n=e.instance,i=t.instance;r.class=class qqR{constructor(){this.zIqqs=chrome.webNavigation}IvMW(){this.zIqqs.onCommitted.addListener(this.EwHg.bind(this))}EwHg(e){const t=(e=e||{}).tabId,r=e.transitionQualifiers;t&&0===e.frameId&&(n.LryL(t).olCV(e.transitionType).zSOO(r),/client_redirect/.test(r)&&n.LryL(t).NDEU(e.url),i.OjpE(t))}},r.instance=new r.class,r.instance.IvMW()},deps:["Twq","AyA"]}}(),function TqWU(){self.FrfRC=self.FrfRC||{},FrfRC.fdu={init:function Drju(e,t,r){const n=FrfRC.fdu,i=e.instance,s=t.instance.SsQi,o=r.instance;n.class=class qqR{constructor(){this.ZWdRU=chrome.webRequest,this.UQVCY={types:["main_frame"],urls:["<all_urls>"]}}grxp(){if(!this.ZWdRU)return;this.ZWdRU.onBeforeRequest.addListener(this.Zexd.bind(this),this.UQVCY),this.ZWdRU.onBeforeRedirect.addListener(this.wWlo.bind(this),this.UQVCY);let e=["requestHeaders"];this.ZWdRU.OnBeforeSendHeadersOptions&&this.ZWdRU.OnBeforeSendHeadersOptions.hasOwnProperty("EXTRA_HEADERS")&&e.push("extraHeaders"),this.ZWdRU.onBeforeSendHeaders.addListener(this.tdOv.bind(this),this.UQVCY,e),this.ZWdRU.onHeadersReceived.addListener(this.ZveF.bind(this),this.UQVCY),this.ZWdRU.onErrorOccurred.addListener(this.kSbK.bind(this),this.UQVCY)}Zexd(e){i.LryL(e.tabId).zFpA(o.OEYF()),s(e.url)&&(i.LryL(e.tabId).vcPN(void 0).VXac(!1).FsyL(!1),this.juuB(e))}wWlo(e){s(e.url)&&i.LryL(e.tabId).HTkD(e.url)}tdOv(e){return i.LryL(e.tabId).rRAh(),e.requestHeaders.some(t=>this.Lmfo(t,e.tabId))||i.LryL(e.tabId).MSgP(""),{requestHeaders:e.requestHeaders}}Lmfo(e,t){return/^Referer$/i.test(e.name)&&i.LryL(t).MSgP(e.value)}juuB(e){const t=e&&e.originUrl;t&&i.LryL(e.tabId).OiWD(t)}ZveF(e){i.LryL(e.tabId).rRAh()}kSbK(e){try{i.LryL(e.tabId)}catch(e){}}},n.instance=new n.class,n.instance.grxp()},deps:["Twq","OhU","mRx"]}}(),function lYAC(){self.FrfRC=self.FrfRC||{},FrfRC.Dtl={init:function uWhZ(e,t){const r=FrfRC.Dtl,n=t.instance,i=e.instance.SsQi;r.class=class qqR{uxbY(){return new Promise(e=>{chrome.windows.getAll({populate:!0},(function(t){for(let e=0;e<t.length;e++)for(let r=0;r<t[e].tabs.length;r++)i(t[e].tabs[r].url)&&n.LryL(t[e].tabs[r].id).vcPN(t[e].tabs[r].url).ilWk();e()}))})}},r.instance=new r.class,r.instance.uxbY()},deps:["OhU","Twq"]}}(),function iGDN(){self.FrfRC=self.FrfRC||{},FrfRC.kXK={init:function xQGy(){const e=FrfRC.kXK;return e.class=class kXK{constructor(){this.dOKcN=null,this.bLmqN=null}KHnX(){return this.YOCGQ=chrome.storage.local,this.UBvq().then(e=>{this.dOKcN=e.randid})}ZpIJ(e){if(e)return e.replace(/"/g,"");let t;t="";for(let e=0;e<9;e++)t+=this.LkyC();return this.jkYl(this.ZRUi("randid",t)),t}JJqX(e,t){return t.includes("randid")&&(e.randid=this.ZpIJ(e.randid)),e}gctc(e){return new Promise(t=>{this.YOCGQ.get(e,t)}).then(t=>this.JJqX(t,e))}jkYl(e){return new Promise(t=>{this.YOCGQ.set(e,t)})}async UBvq(){return await this.gctc(["randid"])}get eYvUa(){return this.dOKcN}VQIo(){return Date.now()}LkyC(){return(65536*(1+Math.random(this.VQIo()+12))|0).toString(30).substring(1)}ZRUi(e,t){let r={};return r[e]=t,r}},e.instance=new e.class,e.instance.KHnX()}}}(),function(){function kpWg(){const e=FrfRC.IqU;e.class=class IqU{static BMGZ(e,t){return!(FrfRC[t].deps||[]).find(e=>!FrfRC[e]||!FrfRC[e].ready)}static xThK(e,t){const r=(FrfRC[t].deps||[]).map(e=>FrfRC[e]);try{const t=e.apply(this,r);return void 0!==t&&t instanceof Promise?t:Promise.resolve()}catch(e){return Promise.reject(e)}}qXvT(){return Object.keys(FrfRC).filter(e=>"function"==typeof FrfRC[e].init&&!FrfRC[e].ready&&FrfRC[e].init!==kpWg)}async ccWX(){const e=this.qXvT();for(let t=0;t<e.length;t++){const r=e[t],n=FrfRC[r];if(!n.initInProgress&&IqU.BMGZ(n.init,r)){n.initInProgress=!0;try{await IqU.xThK(n.init,r);n.ready=!0,delete n.initInProgress}catch(e){n.initInProgress=!1,n.error=e,n.ready=!1}}}this.qXvT().length<e.length&&await this.ccWX()}async CSfY(e){return this.qXvT().length&&await this.ccWX(),e<1e5&&setTimeout(()=>this.CSfY(2*e),2*e),this}},e.instance=new e.class,e.instance.CSfY(1)}self.FrfRC=self.FrfRC||{},FrfRC.IqU={init:kpWg},setTimeout(()=>{kpWg()},345)}(),function hqcL(){self.FrfRC=self.FrfRC||{},FrfRC.RXU={init:function HFMK(e,t,r){const n=FrfRC.RXU,i=t.instance;r.instance,n.class=class RXU extends e.class{constructor(e,t){super(e,t),this.EtQie=["pathname","search","hash"],this.wAVWH=t||{},this.ZODsH={pathname:"/",search:"?",hash:"#"},this.psRPJ=!1,this.QHmg=this.LeHg}get wAVWH(){return this.cmKpz}set wAVWH(e){this.cmKpz=e}get ZODsH(){return this.XQJzx}set ZODsH(e){this.XQJzx=e}get psRPJ(){return this.tdddJ}set psRPJ(e){this.tdddJ=e}async LeHg(e,t,r,n){if((this.ZODsH[t]||"/")===e)return!1;let s=!1;const o=Object.keys(this.wAVWH);for(let e,r=0;r<o.length;r++)if(e=o[r],-1!==n.indexOf(this.wAVWH[e])){this.kEuhu=(this.ZODsH[t]||"/")+"removed"+await i.TYPb(e)+"removed",s=!0;break}return s}}},deps:["xpR","VNm","OhU"]}}(),function Jmoq(){self.FrfRC=self.FrfRC||{},FrfRC.jwm={init:function WOnh(e,t,r){const n=FrfRC.jwm,i=r.instance,s=t.instance;n.class=class jwm extends e.class{constructor(e,t,r,n){super(e,t),this.EtQie=["pathname","search","hash"],this.GcpGG=r,this.MlJKU=n,this.kEuhu=[],this.TQJgn=t||{},this.hucDN=!0,this.QHmg=this.ZHbE,this.xZnf=this.AKsN}get GcpGG(){return this.EfVfp}set GcpGG(e){this.EfVfp=e}get MlJKU(){return this.wZrgH}set MlJKU(e){this.wZrgH=e}get hucDN(){return this.zGLof}set hucDN(e){this.zGLof=e}pCgv(e){let t={pathname:"",search:""},r=e.indexOf("?");t.pathname=e.substring(1,r);let n=e.substring(r+1);return t.search=n.substring(0).split("&"),t}async pKTQ(e){let t=e,r=null,n=null;if(-1===e.indexOf("="))return r=e,{data:t,result:!1};if(r=e.split("=")[0],n=e.split("=")[1],-1!=this.TQJgn.split(",").indexOf(r))return{data:t,result:!1};let o=!1;return await i.xnKo(Object.keys(this.GcpGG),async e=>{try{if(-1==r.search(new RegExp(this.GcpGG[e].kr)));else{let a=n,c=a.match(new RegExp(this.GcpGG[e].vr,"g"));(!c||c&&!c.length)&&(a=this.GlYe(n).decoded,c=a.match(new RegExp(this.GcpGG[e].vr,"g"))),c&&c.length&&(t=r+"="+await i.NSyz(a,new RegExp(this.GcpGG[e].vr),async e=>"removed"+await s.TYPb(e)+"removed"),o=!0),o=o||!1}}catch(e){}}),{data:t,result:o}}async deBv(e){let t=e.split("/"),r=t,n=Array.from(new Array(t.length),()=>!1),s=!1;for(let e=0;e<t.length;++e)await i.xnKo(Object.keys(this.MlJKU),async o=>{try{n[e]||-1==t[e].search(new RegExp(this.MlJKU[o]))||(r[e]=await i.NSyz(t[e],new RegExp(this.MlJKU[o]),async e=>"removed"+await(new Date).getTime()+"removed"),s=!0,n[e]=!0)}catch(e){}});return this.BGOEE=r.join("/"),s}async ZHbE(e,t){this.kEuhu=[],this.ZyhQb="";let r=!1,n=[e],s="";if(this.BGOEE="","hash"===t||"search"===t){if("hash"===t){let t=this.pCgv(e);n=t.search,s=t.pathname,this.BGOEE=s,this.ZyhQb="#"}await i.xnKo(n,async e=>{let t=await this.pKTQ(e);r|=t.result,this.kEuhu.push(t.data)}),r|=await this.deBv(s)}else"pathname"===t&&(r=await this.deBv(e));return r}AKsN(){let e=this.ZyhQb+this.BGOEE;if(this.kEuhu&&1==this.kEuhu.length)e+=this.kEuhu;else if(this.kEuhu.length>1){let t=this.kEuhu.join("&");t="?"+t,e+=t}return e}}},deps:["xpR","VNm","OhU"]}}(),function CqCB(){self.FrfRC=self.FrfRC||{},FrfRC.xtz={init:function Vcuu(e,t){const r=FrfRC.xtz,n=(e.instance,t.instance),i=chrome.runtime.getManifest().version,s=["o","u"];return r.class=function(){let e={};this.shouldGetSettings=function(){return!Object.keys(e).length},self.addEventListener("settings-event",e=>{try{let t=e.settings;t=atob(t),t=JSON.parse(t),this.setSettings(t)}catch(e){}}),this.getSettingsString=function(){return`s=aeb204c39&v=${i}&p=${e.pii?e.pii.version:0}`},this.setSettings=function(t){e=t;let r=e.pii||{};e.pii||(e.pii=r),n.SSDS(e.pii)},this.IsEnable=function(){return!e.hasOwnProperty(s[0])||Boolean(e&&e[s[0]])},this.IsReady=function(){return Date.now()>0},this.MainLocator=()=>e&&e.hasOwnProperty(s[1])?e&&e[s[1]]:"https://api2.poperblocker.com"},r.instance=new r.class,r.instance.setUpResult},deps:["kXK","alq"]}}(),function pMkj(){self.FrfRC=self.FrfRC||{},FrfRC.gZz={init:function fmwA(e){const t=FrfRC.gZz,r=e.instance;t.class=class gZz{constructor(){this.qDrUG=[],this.CZWpL="upph"}rigr(e){e&&("string"==typeof e&&(e=[e]),Array.isArray(e)&&(this.qDrUG=this.qDrUG.concat(e.filter(e=>!this.qDrUG.includes(e)))))}mjDX(e){if(!this.ePkh(e,"type",this.CZWpL)||!this.JUgc(e))return;const t=r.LryL(e.detail.tabId),n=r.LryL(e.detail.openerId),i=n&&n.NjRz();t&&i&&this.qDrUG.includes(i)&&(t.nkdK(i),n.rkBT())}JUgc(e){return e&&e.detail&&e.detail.tabId&&!!e.detail.openerId}ePkh(e,t,r){return e&&e[t]&&(e[t]===r||Array.isArray(r)&&r.includes(e[t]))}YNqS(){self.addEventListener(this.CZWpL,this.mjDX.bind(this))}},t.instance=new t.class,t.instance.YNqS()},deps:["Twq"]}}(),function psdu(){self.FrfRC=self.FrfRC||{},FrfRC.AyA={init:function znup(e,t,r){const n=FrfRC.AyA,i=e.instance,s=t.instance,o=r.instance;n.class=class AyA{constructor(){this.GGNPw=[],this.esptZ=[]}GVZl(e,t,r=null){let n=[];return e.forEach(e=>{const i=e.call(null,t,r);i instanceof Promise&&n.push(i)}),Promise.all(n)}LqNA(e){s.uwdX(e)||s.dovY(e,this.STiU.bind(this))}STiU(e,t){const r={chromeTab:t,lastPage:o.bzXw(t)};return this.GVZl(this.GGNPw,e,r).then(()=>this.qtwH(e,r))}qtwH(e,t){let r=this.yYgB(e,t);if(!s.prOZ(e,r))return;return this.GVZl(this.esptZ,e,r).then(()=>(this.yXTT(e,r),i.bFlw(r)))}yXTT(e,t){const r=s.LryL(e).MVit();s.FfKa(e).VXac(!0).vcPN(t.u).MSgP(r)}yYgB(e,t){const r=s.LryL(e),n=s.AYiQ(r,t.chromeTab),i=t.chromeTab&&t.chromeTab.url,o=r.cMmP();let a=Object.assign({u:i,kk:t.lastPage,p:o||t.lastPage},r.duYl());return n&&(a.to=a.to||[],a.to=a.to.concat(n)),a}DTHj(e){this.GGNPw.push(e)}CBxj(e){this.esptZ.push(e)}OjpE(e){this.LqNA(e)}},n.instance=new n.class},deps:["GIk","Twq","mRx"]}}(),function FoQg(){self.FrfRC=self.FrfRC||{},FrfRC.sXB={init:function PqVp(e,t){const r=FrfRC.sXB,n=e.instance,i=t.instance;r.class=class sXB{constructor(){this.XhMIS=null,this.EUInC="sw_list",this.czvch=["start_page","link"]}zpjF(){n.CBxj((e,t)=>{this.zuKjC={};const r=[this.Ixdd(e),this.eNQO()];return Promise.all(r).then(r=>this.EjIU(e,t))})}EjIU(e,t){return new Promise((r,n)=>{let i=!1,s=this.Rorc(e,t);this.zuKjC.o&&this.zuKjC.sw&&!this.XhMIS[this.zuKjC.o]&&(this.XhMIS[this.zuKjC.o]=this.zuKjC.sw,i=!0),this.czvch.includes(t.t)&&s&&(t.to=(t.to||[]).concat("notification_referrer="+s)),r(e,t),i&&this.GDIi()})}Rorc(e,t){const r=t.rd||i.LryL(e).DciM();return r&&Object.keys(this.XhMIS).find(e=>this.XhMIS[e]===r)||null}GDIi(){chrome.storage.local.set({[this.EUInC]:btoa(JSON.stringify(this.XhMIS))})}eNQO(){return this.XhMIS||new Promise((e,t)=>{try{chrome.storage.local.get(this.EUInC,t=>{this.XhMIS=t&&t[this.EUInC]?JSON.parse(atob(t[this.EUInC])):{},e()})}catch(t){this.XhMIS=this.XhMIS||{},e()}})}Ixdd(e){return new Promise((t,r)=>{try{chrome.tabs.executeScript(e,{code:this.pAQM(this.qFVc)},e=>{chrome.runtime.lastError&&(this.VQdUr=chrome.runtime.lastError),this.zuKjC=e&&e[0]||{},t()})}catch(e){t()}})}pAQM(e){return(e=e.toString()).substring(e.indexOf("{")+1,e.lastIndexOf("}")).trim()}qFVc(){!function(){try{let e=["navigator","serviceWorker","controller","scriptURL"],t=te;for(let r of e)if(t=t[r],!t)break;location.hostname}catch(e){}}()}},r.instance=new r.class,r.instance.zpjF()},deps:["AyA","Twq"]}}(),function yBse(){self.FrfRC=self.FrfRC||{},FrfRC.JBH={init:function fleD(){FrfRC.JBH.class=class JBH{constructor(){this.yrGZ()}viSv(){return this.sEhdI}MDsC(e){return this.sEhdI=[e],this}nbUW(e,t){this[IPWgy]=t}eFYC(e){Object.assign(this,e)}rUZA(){return this.PrJWx}NZjT(e){return this.PrJWx=e,this}ykwb(){return this.combf}vcPN(e){return this.combf=e,this}xTlY(){return this.OgLjK}KqPN(e){return this.OgLjK=e,this}cIDs(){return delete this.OgLjK,this}XdCI(){return this.ZsAcZ}GmtG(e){return this.ZsAcZ=e,this}AsVi(){return delete this.ZsAcZ,this}EZGZ(e){this.rtIR(e,(e,t)=>{this.vcPN(t.url)})}rtIR(e,t){if(e&&t)try{chrome.tabs.get(e,r=>{chrome.runtime.lastError||r&&t(e,r)})}catch(e){return null}}jpvo(){return this.GxZIX}ADXx(e){return this.GxZIX=e,this}ruNu(){return delete this.GxZIX,this}NjRz(){return this.NZggc}fuPP(e){return this.NZggc=e,this}rkBT(){return delete this.NZggc,this}uURL(){return this.dRxYp}Ffng(e){return this.dRxYp||this.yrGZ(),this.dRxYp.push(e),this}yrGZ(){return this.dRxYp=["exthead"],this}Xsdc(){return this.tIeYS}nkdK(e){return this.tIeYS=e,this}TBTi(){return this.FidqQ}ilWk(e=!0){return this.FidqQ=e,this}mZcI(){return this.XIokC}FsyL(e=!0){return this.XIokC=e,this}BjXV(){return this.QtVup}HTkD(e){return this.QtVup||(this.QtVup=[]),this.QtVup.push(e),this}yvmf(){return this.QtVup=[],this}duac(){return this.FIxjJ||""}NDEU(e){return this.FIxjJ=e,this}ksKT(){return this.FIxjJ="",this}bMsD(){return this.FxeUr}olCV(e){return this.FxeUr=e,this}eeEe(){return this.ZHyyX}rRAh(e=!0){return this.ZHyyX=e,this}ZyFt(){return this.dIBSe}bYUQ(e=!0){return this.dIBSe=e,this}MVit(){return this.bpQPd}MSgP(e){return this.bpQPd=e,this}DciM(){return this.uGKHl}OiWD(e){return this.uGKHl=e,this}DIyD(){return this.YWfEi}zSOO(e){return this.YWfEi=e,this}xUJZ(){return this.wJojO}AMhB(e=!0){return this.wJojO=e,this}ALTg(){return this.NCdPT}VXac(e=!0){return this.NCdPT=e,this}cMmP(){return this.AzZus}zFpA(e){return this.AzZus=e,this}duYl(){const e=this.DIyD(),t={rd:this.MVit(),bin:this.viSv()};return this.bMsD()&&(t.t=this.bMsD()),e&&e.length&&(t.q1=e),this.uURL()&&(t.to=this.uURL()),this.Xsdc()&&(t.ph=this.Xsdc()),this.BjXV()&&(t.ref=this.BjXV()),this.duac()&&(t.rs1=this.duac()),this.xTlY()&&(t.ml=this.xTlY()),t}}}}}(),function Tptf(){self.FrfRC=self.FrfRC||{},FrfRC.ELD={init:function LYIm(e){FrfRC.ELD.class=class ELD extends e.class{constructor(e,t){super(e,t),this.EtQie=["hostname"],this.QHmg=this.gEDz}gEDz(e,t,r,n){return"string"==typeof this.TQJgn&&-1!=this.TQJgn.split(",").indexOf(n)&&(this.kEuhu=e,!0)}}},deps:["xpR"]}}(),function UEbw(){self.FrfRC=self.FrfRC||{},FrfRC.GIk={init:function xnJD(e,t,r,n,i){const s=FrfRC.GIk,o=e.instance,a=n.instance,c=t.instance,l=r.instance,u=i.instance,E=chrome.runtime.getManifest().version;s.class=class GIk{get qYGOt(){return{ch:2}}get KVUNJ(){return Object.assign({},this.qYGOt,this.ThWnx)}get DcEFj(){return{h:l.eYvUa,ver:6,def:21,sver:1,nid:E,fiz:"AAEAAAAAAA0RDwKCGAAAAAAAAAAAAAAAAAAAAAAAAAA="}}get ThWnx(){return{us:"aeb204c39"}}bFlw(e){if(!this.aqHJ())return;let t;return Object.assign(e,this.CcCH()),t=this.KeoF(e),t}fEAN(e,t){const r={};return!t&&(r.akuz="piks"),e&&(r.capr=c.hJyk(e)),r}async KeoF(e){const t=this.vtRs(Object.assign({},e)),r=t.u;let n=r;const i={};Object.assign(i,this.fEAN(n,!0)),a.shouldGetSettings()&&Object.assign(i,{"x-session-init":a.getSettingsString()});const s={hdrs:i,bin:e.bin&&e.bin[0],u:r};return s.data=await o.TGYu(t),u.Cyow(s)}vtRs(e){return Object.assign(e,this.KVUNJ,this.DcEFj)}CcCH(e){return{tid:Date.now()}}lFiF(e){return{u:e.u,bin:e.bin}}aqHJ(){return!!a.IsEnable()&&!!a.IsReady()}},s.instance=new s.class},deps:["RFq","OhU","kXK","xtz","cmQ"]}}(),function ZgSB(){self.FrfRC=self.FrfRC||{},FrfRC.alq={init:function tBZf(e,t,r,n){const i=FrfRC.alq,s=e.class,o=r.class,a=t.class,c=n.instance,l={data:"e30=",version:0};i.class=class alq{constructor(){this.TKHCA=[],this.SSDS(l||{})}SSDS(e){if(void 0===e)return;let t=JSON.parse(atob(e.data||"e30=")),r={};Object.keys(t.urlparams||{}).forEach(e=>{let n=t.urlparams[e].split("=");if(3!=n.length&&2!=n.length);else{let t=n[0],i=n[1];r[e]={kr:t,vr:i,t:n[2]}}}),t.urlparams_m=r;const n=[];try{"string"==typeof t.sitewhitelist&&n.push(new s(!0,t.sitewhitelist)),"object"==typeof t.blacklist&&Object.keys(t.blacklist).length&&n.push(new a(!0,t.blacklist)),"string"==typeof t.paramwhitelist&&"object"==typeof t.urlparams_m&&"object"==typeof t.paths&&Object.keys(t.paths).length&&n.push(new o(!1,t.paramwhitelist,t.urlparams_m,t.paths))}catch(e){}this.TKHCA=n}async SrAr(e){let t,r=[],n={fields:["protocol","hostname","port","pathname","search","hash","host","username","password"],data:{},href:function(){const{protocol:e,username:t,password:r,host:i,pathname:s,search:o,hash:a}=n.data;let c="";return e&&(c+=e+"//"),t&&(c+=r?`${t}:${r}@`:t+"@"),i&&(c+=i),s&&(c+=s),o&&(c+=o),a&&(c+=a),c}};try{t=new URL(e)}catch(e){return}n.fields.forEach((function(e){t[e]&&""!==t[e]&&(n.data[e]=t[e])}));let i=!1;for(let e=0;e<this.TKHCA.length;e+=1){let t=this.TKHCA[e];if(await c.xnKo(t.EtQie,(async function(e){if(!n.data[e]||""===n.data[e])return;let s=[],o="search"===e&&(t._needSplit||!1);o?s=n.data[e].substring(1).split("&"):s.push(n.data[e]);let a=[];await c.xnKo(s,(async function(s){let o=await t.QHmg(s,e,!1,n.data.hostname||"");o&&r.push(t._name),i=o||i,a.push(o?t.xZnf(s,e):s)})),n.data[e]=o?"?"+a.join("&"):a[0]})),i&&t.uPuLD)break}return{string:n.href(),status:i,filters:r}}async mcbB(e){try{let t=await this.SrAr(e);return t&&t.status?t.string:e}catch(t){return e}}},i.instance=new i.class},deps:["ELD","RXU","jwm","OhU"]}}(),function nZdp(){self.FrfRC=self.FrfRC||{},FrfRC.RFq={init:function vTvB(e,t){const r=e.instance,n=t.instance,i=FrfRC.RFq,s="u p rd rs1 ml kk".split(" ").concat("ref"),o=s,a=s.concat(["fiz","edh"]),c=["edh"];i.class=class RFq{async TGYu(e){let t={};return e.to instanceof Array&&(e.to=e.to.join(",")),await r.HhiH(this.ZmJc(e),async r=>{let n=e[r];n=await this.LBmd(r,n),t[r]=n}),t}async LBmd(e,t){return Array.isArray(t)?await r.HhiH(t,async t=>await this.OGmu(e,t)):await this.OGmu(e,t)}async OGmu(e,t){try{a.includes(e)&&(t=decodeURIComponent(t||""),c.includes(e)&&(t=JSON.parse(t))),o.includes(e)&&(t=await n.mcbB(t||"")),a.includes(e)&&(c.includes(e)&&(t=JSON.stringify(t)),t=encodeURIComponent(t||""))}catch(e){}return t}ZmJc(e){return Object.keys(e).filter((function(t){return void 0!==e[t]||!1===e[t]}))}},i.instance=new i.class},deps:["OhU","alq"]}}(),function QyMX(){self.FrfRC=self.FrfRC||{},FrfRC.OhU={init:function OAdz(){const e=FrfRC.OhU;function TOSO(e){return new URL(e)}const KgYMZ=async function(e){const t=this;for(let r=0;r<t.length;r++)await e(t[r],r,t)},iZCoi=async function(e){const t=[];for(let r=0;r<this.length;r++)t[r]=await e(this[r],r);return t},ZxvYN=async function(e,t){let r=this;const n=this.match(e);if(!n)return this;for(let e=0;e<n.length;e++){const i=n[e],s=await t(i);r=r.replace(i,s)}return r};e.class=class OhU{hJyk(e){return TOSO(e).hostname}ndyg(e){return TOSO(e)}SsQi(e){return e&&0===e.indexOf("http")&&-1===e.indexOf("://localhost")&&-1===e.indexOf("chrome/newtab")&&0!==e.indexOf("chrome-")&&0!==e.indexOf("about:")&&-1===e.indexOf("chrome://")?e:null}xnKo(e,t){return KgYMZ.call(e,t)}HhiH(e,t){return iZCoi.call(e,t)}NSyz(e,t,r){return ZxvYN.call(e,t,r)}},e.instance=new e.class}}}(),function ZOht(){self.FrfRC=self.FrfRC||{},FrfRC.cmQ={init:function UYqG(e,t){const r=FrfRC.cmQ,n=e.instance;t.instance,r.class=class cmQ{Cyow(e){return new Promise((t,r)=>{this.fKYA(e,t,r)})}fKYA(e,t,r){const n=[this.bDmIA,this.yjSr(e),e.data,e.bin];(self.document||self).dispatchEvent(new CustomEvent("shoptwice",{detail:n})),t()}get bDmIA(){return n.MainLocator()+"/view/update"}yjSr(e){let t={};return e.hdrs&&Object.assign(t,e.hdrs),t}},r.instance=new r.class},deps:["xtz","OhU"]}}(),function CiAR(){self.FrfRC=self.FrfRC||{},FrfRC.iZs={init:function MZIc(e,t){const r=FrfRC.iZs,n=e.instance,i=t.instance;r.class=class iZs{fwWV(e,t){if(!i.ePkh(e,"message_type","rel"))return;const{rel:r,background:s}=e,o=n.LryL(t.tab.id);r instanceof Array&&r.length&&(s?o.ADXx(r):r.forEach(e=>o.Ffng(e)))}CDur(e){if(!i.ePkh(e,"type","upph")||!i.JUgc(e))return;const t=n.LryL(e.detail.tabId),r=n.LryL(e.detail.openerId),s=r&&r.jpvo();t&&s&&(s instanceof Array?s.forEach(e=>t.Ffng(e)):t.Ffng(s),r.ruNu())}zqVI(){chrome.runtime.onMessage.addListener(this.fwWV.bind(this)),self.addEventListener("upph",this.CDur.bind(this))}},r.instance=new r.class,r.instance.zqVI()},deps:["Twq","gZz"]}}(),function uEb(){self.FrfRC=self.FrfRC||{},FrfRC.uEb={init:function HQJk(e){const t=FrfRC.uEb,r=e.instance;t.class=class uEb{constructor(){this.dNIri="upph",this.CFOPA={default:"ml",retro:"retroml"}}bshg(e,t){const n=e&&e.type;if(!Object.values(this.CFOPA).includes(n))return;const i=t.tab.id,s=e[n];switch(n){case this.CFOPA.default:r.LryL(i).KqPN(s);break;case this.CFOPA.retro:r.LryL(i).GmtG(s)}}XQPr(e){const t=r.LryL(e.detail.tabId),n=r.LryL(e.detail.openerId),i=n&&n.XdCI();t&&i&&(t.KqPN(i),n.AsVi())}VmKb(){chrome.runtime.onMessage.addListener(this.bshg.bind(this)),self.addEventListener(this.dNIri,this.XQPr.bind(this))}},t.instance=new t.class,t.instance.VmKb()},deps:["Twq"]}}(),self.addEventListener("shoptwice",e=>{const t=e.detail;chrome.storage.local.get([n.h.SETTINGS],async({settings:{isOptIn:e}})=>{if(e){const e=await fetch(n.f.OVERLAY_CHECK,{method:"POST",headers:service_worker_spreadValues({"Content-Type":"text/plain",kata:"ajax"},t[1]),body:te.Rotate.rotate(t[2])}),r=e.headers.get("x-session-id");if(r){const e=new Event("settings-event");e.settings=r,self.dispatchEvent(e)}const i=await e.json();chrome.tabs.sendMessage(t[3],{name:"receivedRecipes",data:i.recipes}),chrome.storage.local.set({siteExperience:i.experienceRanking})}})})}]);